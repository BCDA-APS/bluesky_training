

<!DOCTYPE html>


<html lang="en" data-content_root="" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>Scan area detector v. motor &#8212; APS Bluesky Training</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=3ee479438cf8b5e0d341" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=3ee479438cf8b5e0d341" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=3ee479438cf8b5e0d341" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=3ee479438cf8b5e0d341" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/graphviz.css" />
    <link rel="stylesheet" type="text/css" href="../_static/tabs.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-design.5ea377869091fd0449014c60fc090103.min.css" />
    <link rel="stylesheet" type="text/css" href="../_static/nbsphinx-code-cells.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=3ee479438cf8b5e0d341" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=3ee479438cf8b5e0d341" />
  <script src="../_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=3ee479438cf8b5e0d341"></script>

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/sphinx_highlight.js"></script>
    <script src="../_static/design-tabs.js"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true}, "options": {"ignoreHtmlClass": "tex2jax_ignore|mathjax_ignore|document", "processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'howto/_ad_v_motors';</script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Accessing data later, after the measurement" href="_after_measurement.html" />
    <link rel="prev" title="Bluesky Cheat Sheet" href="bluesky_cheat_sheet.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
<div class="bd-header__inner bd-page-width">
  <button class="sidebar-toggle primary-toggle" aria-label="Site navigation">
    <span class="fa-solid fa-bars"></span>
  </button>
  
  
  <div class="col-lg-3 navbar-header-items__start">
    
      <div class="navbar-item">

  

<a class="navbar-brand logo" href="../index.html">
  
  
  
  
  
  
    <p class="title logo__title">APS Bluesky Training</p>
  
</a></div>
    
  </div>
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item">
<nav class="navbar-nav">
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item pst-header-nav-item">
  <a class="nav-link nav-internal" href="../instrument/index.html">
    Instrument
  </a>
</li>


<li class="nav-item pst-header-nav-item">
  <a class="nav-link nav-internal" href="../example/index.html">
    Examples
  </a>
</li>


<li class="nav-item pst-header-nav-item current active">
  <a class="nav-link nav-internal" href="index.html">
    How-To Guides
  </a>
</li>


<li class="nav-item pst-header-nav-item">
  <a class="nav-link nav-internal" href="../tutor/index.html">
    Tutorials
  </a>
</li>


<li class="nav-item pst-header-nav-item">
  <a class="nav-link nav-internal" href="../reference/index.html">
    Reference
  </a>
</li>

            <li class="nav-item dropdown pst-header-nav-item">
                <button class="btn dropdown-toggle nav-item" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-controls="pst-nav-more-links">
                    More
                </button>
                <ul id="pst-nav-more-links" class="dropdown-menu">
                    
<li class="nav-item ">
  <a class="nav-link dropdown-item nav-internal" href="../changes.html">
    Changes
  </a>
</li>

                </ul>
            </li>
            
  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          

 <script>
 document.write(`
   <button class="btn navbar-btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script>
        </div>
      
      
        <div class="navbar-item">

<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">

 <script>
 document.write(`
   <button class="btn navbar-btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script>
    </div>
  

  
    <button class="sidebar-toggle secondary-toggle" aria-label="On this page">
      <span class="fa-solid fa-outdent"></span>
    </button>
  
</div>

    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          
          
            <div class="navbar-item">
<nav class="navbar-nav">
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item pst-header-nav-item">
  <a class="nav-link nav-internal" href="../instrument/index.html">
    Instrument
  </a>
</li>


<li class="nav-item pst-header-nav-item">
  <a class="nav-link nav-internal" href="../example/index.html">
    Examples
  </a>
</li>


<li class="nav-item pst-header-nav-item current active">
  <a class="nav-link nav-internal" href="index.html">
    How-To Guides
  </a>
</li>


<li class="nav-item pst-header-nav-item">
  <a class="nav-link nav-internal" href="../tutor/index.html">
    Tutorials
  </a>
</li>


<li class="nav-item pst-header-nav-item">
  <a class="nav-link nav-internal" href="../reference/index.html">
    Reference
  </a>
</li>


<li class="nav-item pst-header-nav-item">
  <a class="nav-link nav-internal" href="../changes.html">
    Changes
  </a>
</li>

  </ul>
</nav></div>
          
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">

<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
<nav class="bd-docs-nav bd-links"
     aria-label="Section Navigation">
  <p class="bd-links__title" role="heading" aria-level="1">Section Navigation</p>
  <div class="bd-toc-item navbar-nav"><ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="getting_started.html">Getting started</a></li>
<li class="toctree-l1"><a class="reference internal" href="bluesky_cheat_sheet.html">Bluesky Cheat Sheet</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Scan area detector v. motor</a></li>
<li class="toctree-l1"><a class="reference internal" href="_after_measurement.html">Accessing data later, after the measurement</a></li>
<li class="toctree-l1"><a class="reference internal" href="_basic_aps_info.html">APS Accelerator Information for Beamlines</a></li>
<li class="toctree-l1"><a class="reference internal" href="_basic_motor_scaler_scan.html">Minimal: Scan scaler <em>vs</em> motor</a></li>
<li class="toctree-l1"><a class="reference internal" href="_bluesky_queueserver.html">First steps with bluesky-queueserver</a></li>
<li class="toctree-l1"><a class="reference internal" href="_count_scaler.html">Count the scaler</a></li>
<li class="toctree-l1"><a class="reference internal" href="_custom_heater_positioner.html">Heater Simulation using synApps epid and transform records</a></li>
<li class="toctree-l1"><a class="reference internal" href="_custom_plan.html">Custom bluesky plan</a></li>

<li class="toctree-l1"><a class="reference internal" href="_doodle.html">Linux Command &amp; Wait for Finish</a></li>
<li class="toctree-l1"><a class="reference internal" href="_dynamic_limits_2motor.html">Dynamic Limits for Two Motors</a></li>
<li class="toctree-l1"><a class="reference internal" href="_epics_proc_field.html">Trigger a Device with the EPICS record .PROC field</a></li>
<li class="toctree-l1"><a class="reference internal" href="_images_darks_flats.html">Images, Darks, &amp; whites with EPICS area detector, ophyd, and Bluesky</a></li>
<li class="toctree-l1"><a class="reference internal" href="_lineup_1d_peak.html">Lineup a 1-D peak : scan detector <em>v</em> motor</a></li>
<li class="toctree-l1"><a class="reference internal" href="_locate_image_peak.html">Locate peak on 2-D area detector image</a></li>
<li class="toctree-l1"><a class="reference internal" href="_plot_x_y_databroker.html">Plot x, y data from a databroker run</a></li>
<li class="toctree-l1"><a class="reference internal" href="_synapps_busy.html">synApps <em>busy</em> record</a></li>
<li class="toctree-l1"><a class="reference internal" href="_synapps_sscan_1d_flyer.html">synApps <em>sscan</em> as 1D Flyer</a></li>
<li class="toctree-l1"><a class="reference internal" href="_temperature_controller_swait.html">Simulate a temperature controller with an EPICS <code class="docutils literal notranslate"><span class="pre">swait</span></code> record</a></li>
</ul>
</div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">



<nav aria-label="Breadcrumb" class="d-print-none">
  <ul class="bd-breadcrumbs">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="../index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    
    <li class="breadcrumb-item"><a href="index.html" class="nav-link">How-To Guides</a></li>
    
    <li class="breadcrumb-item active" aria-current="page">Scan area...</li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="Scan-area-detector-v.-motor">
<h1>Scan area detector v. motor<a class="headerlink" href="#Scan-area-detector-v.-motor" title="Permalink to this heading">#</a></h1>
<p>Goals:</p>
<ul class="simple">
<li><p>☒ use EPICS motor(s)</p>
<ul>
<li><p>☒ record current value (readback)</p></li>
<li><p>☒ record commanded value (setpoint)</p></li>
</ul>
</li>
<li><p>☒ use EPICS area detector</p>
<ul>
<li><p>☒ For each image</p>
<ul>
<li><p>☒ Write image to HDF5 file.</p></li>
<li><p>☒ Measure total counts in image.</p></li>
<li><p>☒ Measure maximum counts in image.</p></li>
<li><p>☒ Note the image’s “unique ID”.</p></li>
</ul>
</li>
</ul>
</li>
<li><p>☒ Step scan motor and collect <span class="math notranslate nohighlight">\(n\)</span> image frame(s) at each step.</p>
<ul>
<li><p>☒ plan: count, just collect image(s)</p></li>
<li><p>☒ plan: scan with one motor</p></li>
<li><p>☒ plan: scan with two motors</p></li>
<li><p>☒ plan: grid_scan with two motors</p></li>
</ul>
</li>
<li><p>☒ Collect data in a SPEC data file.</p></li>
</ul>
<section id="Start-the-instrument-package">
<h2>Start the <code class="docutils literal notranslate"><span class="pre">instrument</span></code> package<a class="headerlink" href="#Start-the-instrument-package" title="Permalink to this heading">#</a></h2>
<p>Our instrument package is in the <code class="docutils literal notranslate"><span class="pre">bluesky</span></code> subdirectory here so we add that to the search path before importing it.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[1]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pathlib</span><span class="o">,</span> <span class="nn">sys</span>

<span class="n">sys</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">()</span><span class="o">.</span><span class="n">home</span><span class="p">()</span> <span class="o">/</span> <span class="s2">&quot;bluesky&quot;</span><span class="p">))</span>
<span class="kn">from</span> <span class="nn">instrument.collection</span> <span class="kn">import</span> <span class="o">*</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
/home/prjemian/bluesky/instrument/_iconfig.py
Activating auto-logging. Current session state plus future input saved.
Filename       : /home/prjemian/Documents/projects/BCDA-APS/bluesky_training/docs/source/howto/.logs/ipython_console.log
Mode           : rotate
Output logging : True
Raw input log  : False
Timestamping   : True
State          : active
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
I Fri-12:50:14 - ############################################################ startup
I Fri-12:50:14 - logging started
I Fri-12:50:14 - logging level = 10
I Fri-12:50:14 - /home/prjemian/bluesky/instrument/session_logs.py
I Fri-12:50:14 - /home/prjemian/bluesky/instrument/collection.py
I Fri-12:50:14 - CONDA_PREFIX = /home/prjemian/.conda/envs/bluesky_2024_2
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Exception reporting mode: Minimal
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
I Fri-12:50:14 - xmode exception level: &#39;Minimal&#39;
I Fri-12:50:14 - /home/prjemian/bluesky/instrument/mpl/notebook.py
I Fri-12:50:14 - #### Bluesky Framework ####
I Fri-12:50:14 - /home/prjemian/bluesky/instrument/framework/check_python.py
I Fri-12:50:14 - /home/prjemian/bluesky/instrument/framework/check_bluesky.py
I Fri-12:50:14 - /home/prjemian/bluesky/instrument/framework/initialize.py
I Fri-12:50:14 - RunEngine metadata saved in directory: /home/prjemian/.config/Bluesky_RunEngine_md
I Fri-12:50:14 - using databroker catalog &#39;training&#39;
I Fri-12:50:14 - using ophyd control layer: pyepics
I Fri-12:50:14 - Using EPICS PV gp:gp:int20 for scan_id
I Fri-12:50:14 - /home/prjemian/bluesky/instrument/framework/metadata.py
I Fri-12:50:14 - #### Devices ####
I Fri-12:50:14 - /home/prjemian/bluesky/instrument/devices/area_detector.py
I Fri-12:50:15 - /home/prjemian/bluesky/instrument/devices/calculation_records.py
I Fri-12:50:19 - /home/prjemian/bluesky/instrument/devices/fourc_diffractometer.py
I Fri-12:50:19 - /home/prjemian/bluesky/instrument/devices/ioc_stats.py
I Fri-12:50:19 - /home/prjemian/bluesky/instrument/devices/kohzu_monochromator.py
I Fri-12:50:19 - /home/prjemian/bluesky/instrument/devices/motors.py
I Fri-12:50:19 - /home/prjemian/bluesky/instrument/devices/noisy_detector.py
I Fri-12:50:19 - /home/prjemian/bluesky/instrument/devices/scaler.py
I Fri-12:50:20 - /home/prjemian/bluesky/instrument/devices/shutter_simulator.py
I Fri-12:50:20 - /home/prjemian/bluesky/instrument/devices/simulated_fourc.py
I Fri-12:50:20 - /home/prjemian/bluesky/instrument/devices/simulated_kappa.py
I Fri-12:50:20 - /home/prjemian/bluesky/instrument/devices/slits.py
I Fri-12:50:20 - /home/prjemian/bluesky/instrument/devices/sixc_diffractometer.py
I Fri-12:50:20 - /home/prjemian/bluesky/instrument/devices/temperature_signal.py
I Fri-12:50:21 - #### Callbacks ####
I Fri-12:50:21 - /home/prjemian/bluesky/instrument/callbacks/spec_data_file_writer.py
I Fri-12:50:21 - #### Plans ####
I Fri-12:50:21 - /home/prjemian/bluesky/instrument/plans/lup_plan.py
I Fri-12:50:21 - /home/prjemian/bluesky/instrument/plans/peak_finder_example.py
I Fri-12:50:21 - /home/prjemian/bluesky/instrument/utils/image_analysis.py
I Fri-12:50:21 - /home/prjemian/bluesky/instrument/plans/randomize_noisy_peak_plan.py
I Fri-12:50:21 - #### Utilities ####
I Fri-12:50:21 - writing to SPEC file: /home/prjemian/Documents/projects/BCDA-APS/bluesky_training/docs/source/howto/20240614-125021.dat
I Fri-12:50:21 -    &gt;&gt;&gt;&gt;   Using default SPEC file name   &lt;&lt;&lt;&lt;
I Fri-12:50:21 -    file will be created when bluesky ends its next scan
I Fri-12:50:21 -    to change SPEC file, use command:   newSpecFile(&#39;title&#39;)
I Fri-12:50:21 - #### Startup is complete. ####
</pre></div></div>
</div>
<p>Make a custom area detector class, providing our own IOC prefix, adding ROI and STATS plugins, and connecting with local directories</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[2]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">apstools.devices</span> <span class="kn">import</span> <span class="n">SingleTrigger_V34</span>
<span class="kn">from</span> <span class="nn">ophyd.areadetector</span> <span class="kn">import</span> <span class="n">ADComponent</span>
<span class="kn">from</span> <span class="nn">ophyd.areadetector</span> <span class="kn">import</span> <span class="n">DetectorBase</span>
<span class="kn">from</span> <span class="nn">ophyd.areadetector.plugins</span> <span class="kn">import</span> <span class="n">ImagePlugin_V34</span>
<span class="kn">from</span> <span class="nn">ophyd.areadetector.plugins</span> <span class="kn">import</span> <span class="n">PvaPlugin_V34</span>
<span class="kn">from</span> <span class="nn">ophyd.areadetector.plugins</span> <span class="kn">import</span> <span class="n">ROIPlugin_V34</span>
<span class="kn">from</span> <span class="nn">ophyd.areadetector.plugins</span> <span class="kn">import</span> <span class="n">StatsPlugin_V34</span>
<span class="kn">import</span> <span class="nn">hdf5plugin</span>  <span class="c1"># needed to read LZ4-compressed image from HDF5 file</span>

<span class="kn">from</span> <span class="nn">instrument.devices.area_detector</span> <span class="kn">import</span> <span class="n">MyHDF5Plugin</span>
<span class="kn">from</span> <span class="nn">instrument.devices.area_detector</span> <span class="kn">import</span> <span class="n">SimDetectorCam_V34</span>

<span class="c1"># for my IOC, these parameters apply:</span>
<span class="n">AD_IOC</span> <span class="o">=</span> <span class="s2">&quot;kad:&quot;</span>
<span class="n">FILE_BASE_IOC</span> <span class="o">=</span> <span class="s2">&quot;/tmp/&quot;</span>
<span class="n">FILE_BASE_BLUESKY</span> <span class="o">=</span> <span class="s2">&quot;/mnt/iockad/tmp/&quot;</span>

<span class="k">class</span> <span class="nc">SimDetector_V34</span><span class="p">(</span><span class="n">SingleTrigger_V34</span><span class="p">,</span> <span class="n">DetectorBase</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    ADSimDetector</span>

<span class="sd">    SingleTrigger:</span>

<span class="sd">    * stop any current acquisition</span>
<span class="sd">    * sets image_mode to &#39;Multiple&#39;</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">cam</span> <span class="o">=</span> <span class="n">ADComponent</span><span class="p">(</span><span class="n">SimDetectorCam_V34</span><span class="p">,</span> <span class="s2">&quot;cam1:&quot;</span><span class="p">)</span>
    <span class="n">hdf1</span> <span class="o">=</span> <span class="n">ADComponent</span><span class="p">(</span>
        <span class="n">MyHDF5Plugin</span><span class="p">,</span>
        <span class="s2">&quot;HDF1:&quot;</span><span class="p">,</span>
        <span class="n">write_path_template</span><span class="o">=</span><span class="n">FILE_BASE_IOC</span><span class="p">,</span>
        <span class="n">read_path_template</span><span class="o">=</span><span class="n">FILE_BASE_BLUESKY</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">image</span> <span class="o">=</span> <span class="n">ADComponent</span><span class="p">(</span><span class="n">ImagePlugin_V34</span><span class="p">,</span> <span class="s2">&quot;image1:&quot;</span><span class="p">)</span>
    <span class="n">pva</span> <span class="o">=</span> <span class="n">ADComponent</span><span class="p">(</span><span class="n">PvaPlugin_V34</span><span class="p">,</span> <span class="s2">&quot;Pva1:&quot;</span><span class="p">)</span>
    <span class="n">roi1</span> <span class="o">=</span> <span class="n">ADComponent</span><span class="p">(</span><span class="n">ROIPlugin_V34</span><span class="p">,</span> <span class="s2">&quot;ROI1:&quot;</span><span class="p">)</span>
    <span class="n">stats1</span> <span class="o">=</span> <span class="n">ADComponent</span><span class="p">(</span><span class="n">StatsPlugin_V34</span><span class="p">,</span> <span class="s2">&quot;Stats1:&quot;</span><span class="p">)</span>

<span class="n">simdet</span> <span class="o">=</span> <span class="n">SimDetector_V34</span><span class="p">(</span><span class="n">AD_IOC</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;simdet&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</section>
<section id="Setup-&amp;-connect-with-EPICS">
<h2>Setup &amp; connect with EPICS<a class="headerlink" href="#Setup-&-connect-with-EPICS" title="Permalink to this heading">#</a></h2>
<p>Search the ophyd object registry (<code class="docutils literal notranslate"><span class="pre">oregistry</span></code>) for the detector and motors. Show that each is connected to EPICS.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[3]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">nm</span> <span class="ow">in</span> <span class="s2">&quot;simdet m1 m2&quot;</span><span class="o">.</span><span class="n">split</span><span class="p">():</span>
    <span class="n">obj</span> <span class="o">=</span> <span class="n">oregistry</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">nm</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">obj</span><span class="o">.</span><span class="n">connected</span><span class="si">=!r}</span><span class="s2"> </span><span class="si">{</span><span class="n">nm</span><span class="si">!r}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
obj.connected=True &#39;simdet&#39;
obj.connected=True &#39;m1&#39;
obj.connected=True &#39;m2&#39;
</pre></div></div>
</div>
<p>Configure the area detector for:</p>
<ul class="simple">
<li><p>Collect <span class="math notranslate nohighlight">\(n\)</span> image frame(s) for each press of the <em>Acquire</em> button.</p></li>
<li><p>Save image(s) to HDF5</p></li>
<li><p>Record total counts in the image.</p></li>
<li><p>Record maximum counts in the image.</p></li>
<li><p>Record the unique ID of the image.</p></li>
</ul>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[4]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">ad_setup</span><span class="p">(</span><span class="n">det</span><span class="p">):</span>
    <span class="n">det</span><span class="o">.</span><span class="n">wait_for_connection</span><span class="p">(</span><span class="n">timeout</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
    <span class="n">det</span><span class="o">.</span><span class="n">roi1</span><span class="o">.</span><span class="n">nd_array_port</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="s2">&quot;SIM1&quot;</span><span class="p">)</span>
    <span class="n">det</span><span class="o">.</span><span class="n">stats1</span><span class="o">.</span><span class="n">nd_array_port</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="s2">&quot;ROI1&quot;</span><span class="p">)</span>
    <span class="n">det</span><span class="o">.</span><span class="n">missing_plugins</span><span class="p">()</span>

    <span class="n">det</span><span class="o">.</span><span class="n">cam</span><span class="o">.</span><span class="n">stage_sigs</span><span class="p">[</span><span class="s2">&quot;num_images&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">3</span>

    <span class="n">det</span><span class="o">.</span><span class="n">hdf1</span><span class="o">.</span><span class="n">kind</span> <span class="o">=</span> <span class="s2">&quot;hinted&quot;</span>
    <span class="n">det</span><span class="o">.</span><span class="n">hdf1</span><span class="o">.</span><span class="n">create_directory</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="o">-</span><span class="mi">5</span><span class="p">)</span>
    <span class="n">det</span><span class="o">.</span><span class="n">hdf1</span><span class="o">.</span><span class="n">stage_sigs</span><span class="p">[</span><span class="s2">&quot;compression&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;LZ4&quot;</span>

    <span class="n">det</span><span class="o">.</span><span class="n">stats1</span><span class="o">.</span><span class="n">kind</span> <span class="o">=</span> <span class="s2">&quot;hinted&quot;</span>
    <span class="n">det</span><span class="o">.</span><span class="n">stats1</span><span class="o">.</span><span class="n">max_value</span><span class="o">.</span><span class="n">kind</span> <span class="o">=</span> <span class="s2">&quot;hinted&quot;</span>
    <span class="n">det</span><span class="o">.</span><span class="n">stats1</span><span class="o">.</span><span class="n">total</span><span class="o">.</span><span class="n">kind</span> <span class="o">=</span> <span class="s2">&quot;hinted&quot;</span>
    <span class="n">det</span><span class="o">.</span><span class="n">stats1</span><span class="o">.</span><span class="n">unique_id</span><span class="o">.</span><span class="n">kind</span> <span class="o">=</span> <span class="s2">&quot;hinted&quot;</span>

    <span class="n">det</span><span class="o">.</span><span class="n">cam</span><span class="o">.</span><span class="n">stage_sigs</span><span class="p">[</span><span class="s2">&quot;wait_for_plugins&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;Yes&quot;</span>
    <span class="n">det</span><span class="o">.</span><span class="n">hdf1</span><span class="o">.</span><span class="n">stage_sigs</span><span class="p">[</span><span class="s2">&quot;blocking_callbacks&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;No&quot;</span>
    <span class="n">det</span><span class="o">.</span><span class="n">image</span><span class="o">.</span><span class="n">stage_sigs</span><span class="p">[</span><span class="s2">&quot;blocking_callbacks&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;No&quot;</span>

<span class="n">ad_setup</span><span class="p">(</span><span class="n">simdet</span><span class="p">)</span>
</pre></div>
</div>
</div>
</section>
<section id="Diagnostics-(optional)">
<h2>Diagnostics (optional)<a class="headerlink" href="#Diagnostics-(optional)" title="Permalink to this heading">#</a></h2>
<p>These steps are optional.</p>
<p>Show the data structure collected by the <code class="docutils literal notranslate"><span class="pre">RE</span></code> during a routine data acquisition run with the area detector object <code class="docutils literal notranslate"><span class="pre">simdet</span></code>.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[5]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">simdet</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[5]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
OrderedDict([(&#39;simdet_stats1_unique_id&#39;,
              {&#39;value&#39;: 2390, &#39;timestamp&#39;: 1718386394.518314}),
             (&#39;simdet_stats1_max_value&#39;,
              {&#39;value&#39;: 160.0, &#39;timestamp&#39;: 1718387422.0772634}),
             (&#39;simdet_stats1_total&#39;,
              {&#39;value&#39;: 11383707.0, &#39;timestamp&#39;: 1718386394.518433})])
</pre></div></div>
</div>
<p>Show how <code class="docutils literal notranslate"><span class="pre">simdet</span></code> is configured to collect <span class="math notranslate nohighlight">\(n\)</span> frames per point.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[6]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Image frames per point:&quot;</span><span class="p">,</span> <span class="n">simdet</span><span class="o">.</span><span class="n">cam</span><span class="o">.</span><span class="n">stage_sigs</span><span class="p">[</span><span class="s2">&quot;num_images&quot;</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Image frames per point: 3
</pre></div></div>
</div>
<p>Show the staging configuration for <code class="docutils literal notranslate"><span class="pre">simdet</span></code>.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[7]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pprint</span> <span class="kn">import</span> <span class="n">pprint</span>

<span class="n">pprint</span><span class="p">({</span><span class="s2">&quot;simdet&quot;</span><span class="p">:</span> <span class="n">simdet</span><span class="o">.</span><span class="n">stage_sigs</span><span class="p">})</span>
<span class="n">pprint</span><span class="p">({</span><span class="s2">&quot;simdet.cam&quot;</span><span class="p">:</span> <span class="n">simdet</span><span class="o">.</span><span class="n">cam</span><span class="o">.</span><span class="n">stage_sigs</span><span class="p">})</span>
<span class="n">pprint</span><span class="p">({</span><span class="s2">&quot;simdet.hdf1&quot;</span><span class="p">:</span> <span class="n">simdet</span><span class="o">.</span><span class="n">hdf1</span><span class="o">.</span><span class="n">stage_sigs</span><span class="p">})</span>
<span class="n">pprint</span><span class="p">({</span><span class="s2">&quot;simdet.roi1&quot;</span><span class="p">:</span> <span class="n">simdet</span><span class="o">.</span><span class="n">roi1</span><span class="o">.</span><span class="n">stage_sigs</span><span class="p">})</span>
<span class="n">pprint</span><span class="p">({</span><span class="s2">&quot;simdet.stats1&quot;</span><span class="p">:</span> <span class="n">simdet</span><span class="o">.</span><span class="n">stats1</span><span class="o">.</span><span class="n">stage_sigs</span><span class="p">})</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
{&#39;simdet&#39;: OrderedDict([(&#39;cam.acquire&#39;, 0), (&#39;cam.image_mode&#39;, 1)])}
{&#39;simdet.cam&#39;: OrderedDict([(&#39;num_images&#39;, 3), (&#39;wait_for_plugins&#39;, &#39;Yes&#39;)])}
{&#39;simdet.hdf1&#39;: OrderedDict([(&#39;enable&#39;, 1),
                             (&#39;blocking_callbacks&#39;, &#39;No&#39;),
                             (&#39;parent.cam.array_callbacks&#39;, 1),
                             (&#39;create_directory&#39;, -3),
                             (&#39;auto_increment&#39;, &#39;Yes&#39;),
                             (&#39;array_counter&#39;, 0),
                             (&#39;auto_save&#39;, &#39;Yes&#39;),
                             (&#39;num_capture&#39;, 0),
                             (&#39;file_template&#39;, &#39;%s%s_%6.6d.h5&#39;),
                             (&#39;file_write_mode&#39;, &#39;Stream&#39;),
                             (&#39;capture&#39;, 1),
                             (&#39;compression&#39;, &#39;LZ4&#39;)])}
{&#39;simdet.roi1&#39;: OrderedDict([(&#39;enable&#39;, 1),
                             (&#39;blocking_callbacks&#39;, &#39;Yes&#39;),
                             (&#39;parent.cam.array_callbacks&#39;, 1)])}
{&#39;simdet.stats1&#39;: OrderedDict([(&#39;enable&#39;, 1),
                               (&#39;blocking_callbacks&#39;, &#39;Yes&#39;),
                               (&#39;parent.cam.array_callbacks&#39;, 1)])}
</pre></div></div>
</div>
<p>Show how the area detector ports are connected in a diagram.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[8]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">simdet</span><span class="o">.</span><span class="n">visualize_asyn_digraph</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/howto__ad_v_motors_16_0.png" src="../_images/howto__ad_v_motors_16_0.png" />
</div>
</div>
<p>Just read the signals from <code class="docutils literal notranslate"><span class="pre">simdet.stats1</span></code> multiple times. Since <code class="docutils literal notranslate"><span class="pre">simdet</span></code> itself is not included in the list of detectors, it will not be triggered (and thus will not produce new images). Observe that the <code class="docutils literal notranslate"><span class="pre">unique_id</span></code> does not change. For clarity, the command has been split into multiple lines.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[9]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">RE</span><span class="p">(</span>
    <span class="n">bp</span><span class="o">.</span><span class="n">count</span><span class="p">(</span>
        <span class="p">[</span>
            <span class="n">simdet</span><span class="o">.</span><span class="n">stats1</span><span class="o">.</span><span class="n">unique_id</span><span class="p">,</span>
            <span class="n">simdet</span><span class="o">.</span><span class="n">stats1</span><span class="o">.</span><span class="n">total</span><span class="p">,</span>
            <span class="n">simdet</span><span class="o">.</span><span class="n">stats1</span><span class="o">.</span><span class="n">max_value</span>
            <span class="p">],</span>
        <span class="n">num</span><span class="o">=</span><span class="mi">5</span>
        <span class="p">)</span>
    <span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>


Transient Scan ID: 77     Time: 2024-06-14 12:50:23
Persistent Unique Scan ID: &#39;7900d4fe-d126-4b0a-8314-f278510cb826&#39;
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
device=MyEpicsMotor(prefix=&#39;gp:m2&#39;, name=&#39;m2&#39;, settle_time=0.0, timeout=None, read_attrs=[&#39;user_readback&#39;, &#39;user_setpoint&#39;], configuration_attrs=[&#39;user_offset&#39;, &#39;user_offset_dir&#39;, &#39;velocity&#39;, &#39;acceleration&#39;, &#39;motor_egu&#39;]), exception=Data keys (field names) from MyEpicsMotor(prefix=&#39;gp:m2&#39;, name=&#39;m2&#39;, settle_time=0.0, timeout=None, read_attrs=[&#39;user_readback&#39;, &#39;user_setpoint&#39;], configuration_attrs=[&#39;user_offset&#39;, &#39;user_offset_dir&#39;, &#39;velocity&#39;, &#39;acceleration&#39;, &#39;motor_egu&#39;]) collide with those from MyEpicsMotor(prefix=&#39;gp:m2&#39;, name=&#39;m2&#39;, settle_time=0.0, timeout=None, read_attrs=[&#39;user_readback&#39;, &#39;user_setpoint&#39;], configuration_attrs=[&#39;user_offset&#39;, &#39;user_offset_dir&#39;, &#39;velocity&#39;, &#39;acceleration&#39;, &#39;motor_egu&#39;]). The colliding keys are {&#39;m2_user_setpoint&#39;, &#39;m2&#39;}
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
New stream: &#39;label_start_motor&#39;
New stream: &#39;primary&#39;
+-----------+------------+---------------------+-------------------------+-------------------------+
|   seq_num |       time | simdet_stats1_total | simdet_stats1_unique_id | simdet_stats1_max_value |
+-----------+------------+---------------------+-------------------------+-------------------------+
|         1 | 12:50:23.4 |            11383707 |                    2390 |                     160 |
|         2 | 12:50:23.9 |            11383707 |                    2390 |                     160 |
|         3 | 12:50:24.3 |            11383707 |                    2390 |                     160 |
|         4 | 12:50:24.6 |            11383707 |                    2390 |                     160 |
|         5 | 12:50:25.0 |            11383707 |                    2390 |                     160 |
+-----------+------------+---------------------+-------------------------+-------------------------+
generator count [&#39;7900d4fe&#39;] (scan num: 77)
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[9]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
(&#39;7900d4fe-d126-4b0a-8314-f278510cb826&#39;,)
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/howto__ad_v_motors_18_4.png" src="../_images/howto__ad_v_motors_18_4.png" />
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[10]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">run</span> <span class="o">=</span> <span class="n">cat</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>  <span class="c1"># assume our run is the most recent one in the catalog</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">run</span><span class="si">=!r}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="n">dataset</span> <span class="o">=</span> <span class="n">run</span><span class="o">.</span><span class="n">primary</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<span class="n">dataset</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
run=&lt;BlueskyRun uid=&#39;7900d4fe-d126-4b0a-8314-f278510cb826&#39;&gt;
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
/home/prjemian/.conda/envs/bluesky_2024_2/lib/python3.11/site-packages/databroker/intake_xarray_core/base.py:23: FutureWarning: The return type of `Dataset.dims` will be changed to return a set of dimension names in future, in order to be more consistent with `DataArray.dims`. To access a mapping from dimension names to lengths, please use `Dataset.sizes`.
  &#39;dims&#39;: dict(self._ds.dims),
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[10]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div><svg style="position: absolute; width: 0; height: 0; overflow: hidden">
<defs>
<symbol id="icon-database" viewBox="0 0 32 32">
<path d="M16 0c-8.837 0-16 2.239-16 5v4c0 2.761 7.163 5 16 5s16-2.239 16-5v-4c0-2.761-7.163-5-16-5z"></path>
<path d="M16 17c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
<path d="M16 26c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
</symbol>
<symbol id="icon-file-text2" viewBox="0 0 32 32">
<path d="M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z"></path>
<path d="M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
</symbol>
</defs>
</svg>
<style>/* CSS stylesheet for displaying xarray objects in jupyterlab.
 *
 */

:root {
  --xr-font-color0: var(--jp-content-font-color0, rgba(0, 0, 0, 1));
  --xr-font-color2: var(--jp-content-font-color2, rgba(0, 0, 0, 0.54));
  --xr-font-color3: var(--jp-content-font-color3, rgba(0, 0, 0, 0.38));
  --xr-border-color: var(--jp-border-color2, #e0e0e0);
  --xr-disabled-color: var(--jp-layout-color3, #bdbdbd);
  --xr-background-color: var(--jp-layout-color0, white);
  --xr-background-color-row-even: var(--jp-layout-color1, white);
  --xr-background-color-row-odd: var(--jp-layout-color2, #eeeeee);
}

html[theme=dark],
body[data-theme=dark],
body.vscode-dark {
  --xr-font-color0: rgba(255, 255, 255, 1);
  --xr-font-color2: rgba(255, 255, 255, 0.54);
  --xr-font-color3: rgba(255, 255, 255, 0.38);
  --xr-border-color: #1F1F1F;
  --xr-disabled-color: #515151;
  --xr-background-color: #111111;
  --xr-background-color-row-even: #111111;
  --xr-background-color-row-odd: #313131;
}

.xr-wrap {
  display: block !important;
  min-width: 300px;
  max-width: 700px;
}

.xr-text-repr-fallback {
  /* fallback to plain text repr when CSS is not injected (untrusted notebook) */
  display: none;
}

.xr-header {
  padding-top: 6px;
  padding-bottom: 6px;
  margin-bottom: 4px;
  border-bottom: solid 1px var(--xr-border-color);
}

.xr-header > div,
.xr-header > ul {
  display: inline;
  margin-top: 0;
  margin-bottom: 0;
}

.xr-obj-type,
.xr-array-name {
  margin-left: 2px;
  margin-right: 10px;
}

.xr-obj-type {
  color: var(--xr-font-color2);
}

.xr-sections {
  padding-left: 0 !important;
  display: grid;
  grid-template-columns: 150px auto auto 1fr 20px 20px;
}

.xr-section-item {
  display: contents;
}

.xr-section-item input {
  display: none;
}

.xr-section-item input + label {
  color: var(--xr-disabled-color);
}

.xr-section-item input:enabled + label {
  cursor: pointer;
  color: var(--xr-font-color2);
}

.xr-section-item input:enabled + label:hover {
  color: var(--xr-font-color0);
}

.xr-section-summary {
  grid-column: 1;
  color: var(--xr-font-color2);
  font-weight: 500;
}

.xr-section-summary > span {
  display: inline-block;
  padding-left: 0.5em;
}

.xr-section-summary-in:disabled + label {
  color: var(--xr-font-color2);
}

.xr-section-summary-in + label:before {
  display: inline-block;
  content: '►';
  font-size: 11px;
  width: 15px;
  text-align: center;
}

.xr-section-summary-in:disabled + label:before {
  color: var(--xr-disabled-color);
}

.xr-section-summary-in:checked + label:before {
  content: '▼';
}

.xr-section-summary-in:checked + label > span {
  display: none;
}

.xr-section-summary,
.xr-section-inline-details {
  padding-top: 4px;
  padding-bottom: 4px;
}

.xr-section-inline-details {
  grid-column: 2 / -1;
}

.xr-section-details {
  display: none;
  grid-column: 1 / -1;
  margin-bottom: 5px;
}

.xr-section-summary-in:checked ~ .xr-section-details {
  display: contents;
}

.xr-array-wrap {
  grid-column: 1 / -1;
  display: grid;
  grid-template-columns: 20px auto;
}

.xr-array-wrap > label {
  grid-column: 1;
  vertical-align: top;
}

.xr-preview {
  color: var(--xr-font-color3);
}

.xr-array-preview,
.xr-array-data {
  padding: 0 5px !important;
  grid-column: 2;
}

.xr-array-data,
.xr-array-in:checked ~ .xr-array-preview {
  display: none;
}

.xr-array-in:checked ~ .xr-array-data,
.xr-array-preview {
  display: inline-block;
}

.xr-dim-list {
  display: inline-block !important;
  list-style: none;
  padding: 0 !important;
  margin: 0;
}

.xr-dim-list li {
  display: inline-block;
  padding: 0;
  margin: 0;
}

.xr-dim-list:before {
  content: '(';
}

.xr-dim-list:after {
  content: ')';
}

.xr-dim-list li:not(:last-child):after {
  content: ',';
  padding-right: 5px;
}

.xr-has-index {
  font-weight: bold;
}

.xr-var-list,
.xr-var-item {
  display: contents;
}

.xr-var-item > div,
.xr-var-item label,
.xr-var-item > .xr-var-name span {
  background-color: var(--xr-background-color-row-even);
  margin-bottom: 0;
}

.xr-var-item > .xr-var-name:hover span {
  padding-right: 5px;
}

.xr-var-list > li:nth-child(odd) > div,
.xr-var-list > li:nth-child(odd) > label,
.xr-var-list > li:nth-child(odd) > .xr-var-name span {
  background-color: var(--xr-background-color-row-odd);
}

.xr-var-name {
  grid-column: 1;
}

.xr-var-dims {
  grid-column: 2;
}

.xr-var-dtype {
  grid-column: 3;
  text-align: right;
  color: var(--xr-font-color2);
}

.xr-var-preview {
  grid-column: 4;
}

.xr-index-preview {
  grid-column: 2 / 5;
  color: var(--xr-font-color2);
}

.xr-var-name,
.xr-var-dims,
.xr-var-dtype,
.xr-preview,
.xr-attrs dt {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  padding-right: 10px;
}

.xr-var-name:hover,
.xr-var-dims:hover,
.xr-var-dtype:hover,
.xr-attrs dt:hover {
  overflow: visible;
  width: auto;
  z-index: 1;
}

.xr-var-attrs,
.xr-var-data,
.xr-index-data {
  display: none;
  background-color: var(--xr-background-color) !important;
  padding-bottom: 5px !important;
}

.xr-var-attrs-in:checked ~ .xr-var-attrs,
.xr-var-data-in:checked ~ .xr-var-data,
.xr-index-data-in:checked ~ .xr-index-data {
  display: block;
}

.xr-var-data > table {
  float: right;
}

.xr-var-name span,
.xr-var-data,
.xr-index-name div,
.xr-index-data,
.xr-attrs {
  padding-left: 25px !important;
}

.xr-attrs,
.xr-var-attrs,
.xr-var-data,
.xr-index-data {
  grid-column: 1 / -1;
}

dl.xr-attrs {
  padding: 0;
  margin: 0;
  display: grid;
  grid-template-columns: 125px auto;
}

.xr-attrs dt,
.xr-attrs dd {
  padding: 0;
  margin: 0;
  float: left;
  padding-right: 10px;
  width: auto;
}

.xr-attrs dt {
  font-weight: normal;
  grid-column: 1;
}

.xr-attrs dt:hover span {
  display: inline-block;
  background: var(--xr-background-color);
  padding-right: 10px;
}

.xr-attrs dd {
  grid-column: 2;
  white-space: pre-wrap;
  word-break: break-all;
}

.xr-icon-database,
.xr-icon-file-text2,
.xr-no-icon {
  display: inline-block;
  vertical-align: middle;
  width: 1em;
  height: 1.5em !important;
  stroke-width: 0;
  stroke: currentColor;
  fill: currentColor;
}
</style><pre class='xr-text-repr-fallback'>&lt;xarray.Dataset&gt; Size: 160B
Dimensions:                  (time: 5)
Coordinates:
  * time                     (time) float64 40B 1.718e+09 ... 1.718e+09
Data variables:
    simdet_stats1_total      (time) float64 40B 1.138e+07 ... 1.138e+07
    simdet_stats1_unique_id  (time) int64 40B 2390 2390 2390 2390 2390
    simdet_stats1_max_value  (time) float64 40B 160.0 160.0 160.0 160.0 160.0</pre><div class='xr-wrap' style='display:none'><div class='xr-header'><div class='xr-obj-type'>xarray.Dataset</div></div><ul class='xr-sections'><li class='xr-section-item'><input id='section-1243e9f8-5507-4dcd-aab9-82296521b32f' class='xr-section-summary-in' type='checkbox' disabled ><label for='section-1243e9f8-5507-4dcd-aab9-82296521b32f' class='xr-section-summary'  title='Expand/collapse section'>Dimensions:</label><div class='xr-section-inline-details'><ul class='xr-dim-list'><li><span class='xr-has-index'>time</span>: 5</li></ul></div><div class='xr-section-details'></div></li><li class='xr-section-item'><input id='section-a50e5ad8-c4ce-49af-a1d9-f323b6e46930' class='xr-section-summary-in' type='checkbox'  checked><label for='section-a50e5ad8-c4ce-49af-a1d9-f323b6e46930' class='xr-section-summary' >Coordinates: <span>(1)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>time</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>1.718e+09 1.718e+09 ... 1.718e+09</div><input id='attrs-aee44c74-d56e-4e10-858b-1f651d9dc6b9' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-aee44c74-d56e-4e10-858b-1f651d9dc6b9' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-c41a4502-13da-47da-82ce-d9df513a245a' class='xr-var-data-in' type='checkbox'><label for='data-c41a4502-13da-47da-82ce-d9df513a245a' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([1.718387e+09, 1.718387e+09, 1.718387e+09, 1.718387e+09, 1.718387e+09])</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-8beedf90-e4fb-4129-ade5-15c16f42e156' class='xr-section-summary-in' type='checkbox'  checked><label for='section-8beedf90-e4fb-4129-ade5-15c16f42e156' class='xr-section-summary' >Data variables: <span>(3)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span>simdet_stats1_total</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>1.138e+07 1.138e+07 ... 1.138e+07</div><input id='attrs-386af4d1-e596-4f81-8e4e-e0598ecbc386' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-386af4d1-e596-4f81-8e4e-e0598ecbc386' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-606f4afb-0882-4a21-b445-fe81348cbeed' class='xr-var-data-in' type='checkbox'><label for='data-606f4afb-0882-4a21-b445-fe81348cbeed' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>object :</span></dt><dd>simdet_stats1_total</dd></dl></div><div class='xr-var-data'><pre>array([11383707., 11383707., 11383707., 11383707., 11383707.])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>simdet_stats1_unique_id</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>int64</div><div class='xr-var-preview xr-preview'>2390 2390 2390 2390 2390</div><input id='attrs-43518de5-5205-4dc8-a180-82e0a7ffb2d6' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-43518de5-5205-4dc8-a180-82e0a7ffb2d6' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-1230de91-8f6b-46bc-93ff-b56ff5bb919e' class='xr-var-data-in' type='checkbox'><label for='data-1230de91-8f6b-46bc-93ff-b56ff5bb919e' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>object :</span></dt><dd>simdet_stats1_unique_id</dd></dl></div><div class='xr-var-data'><pre>array([2390, 2390, 2390, 2390, 2390])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>simdet_stats1_max_value</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>160.0 160.0 160.0 160.0 160.0</div><input id='attrs-20b7b5da-887d-4576-bed7-a926058f0e4c' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-20b7b5da-887d-4576-bed7-a926058f0e4c' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-1cd77a72-ebf2-46ec-8eec-d2526dcf7fc6' class='xr-var-data-in' type='checkbox'><label for='data-1cd77a72-ebf2-46ec-8eec-d2526dcf7fc6' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>object :</span></dt><dd>simdet_stats1_max_value</dd></dl></div><div class='xr-var-data'><pre>array([160., 160., 160., 160., 160.])</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-be181909-ff47-4e26-a2fb-853962eda1ac' class='xr-section-summary-in' type='checkbox'  ><label for='section-be181909-ff47-4e26-a2fb-853962eda1ac' class='xr-section-summary' >Indexes: <span>(1)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-index-name'><div>time</div></div><div class='xr-index-preview'>PandasIndex</div><div></div><input id='index-47aa3e8e-7f6e-4cf7-a875-638fa6003be3' class='xr-index-data-in' type='checkbox'/><label for='index-47aa3e8e-7f6e-4cf7-a875-638fa6003be3' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Index([1718387423.4751682, 1718387423.9069536, 1718387424.3084836,
        1718387424.687519,  1718387425.079634],
      dtype=&#x27;float64&#x27;, name=&#x27;time&#x27;))</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-2e7b081e-0c0f-4032-affb-a5845476e148' class='xr-section-summary-in' type='checkbox' disabled ><label for='section-2e7b081e-0c0f-4032-affb-a5845476e148' class='xr-section-summary'  title='Expand/collapse section'>Attributes: <span>(0)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><dl class='xr-attrs'></dl></div></li></ul></div></div></div>
</div>
</section>
<section id="Take-image(s)-with-the-bp.count-plan">
<h2>Take image(s) with the <code class="docutils literal notranslate"><span class="pre">bp.count</span></code> plan<a class="headerlink" href="#Take-image(s)-with-the-bp.count-plan" title="Permalink to this heading">#</a></h2>
<p>Collect 5 sets of images (3-frames each as configured above).</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[11]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">uids</span> <span class="o">=</span> <span class="n">RE</span><span class="p">(</span><span class="n">bp</span><span class="o">.</span><span class="n">count</span><span class="p">([</span><span class="n">simdet</span><span class="p">],</span> <span class="n">num</span><span class="o">=</span><span class="mi">5</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;uids=!r&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>


Transient Scan ID: 78     Time: 2024-06-14 12:50:27
Persistent Unique Scan ID: &#39;c9b96f7c-3f94-480e-a746-ee9455d3cb2e&#39;
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
device=MyEpicsMotor(prefix=&#39;gp:m2&#39;, name=&#39;m2&#39;, settle_time=0.0, timeout=None, read_attrs=[&#39;user_readback&#39;, &#39;user_setpoint&#39;], configuration_attrs=[&#39;user_offset&#39;, &#39;user_offset_dir&#39;, &#39;velocity&#39;, &#39;acceleration&#39;, &#39;motor_egu&#39;]), exception=Data keys (field names) from MyEpicsMotor(prefix=&#39;gp:m2&#39;, name=&#39;m2&#39;, settle_time=0.0, timeout=None, read_attrs=[&#39;user_readback&#39;, &#39;user_setpoint&#39;], configuration_attrs=[&#39;user_offset&#39;, &#39;user_offset_dir&#39;, &#39;velocity&#39;, &#39;acceleration&#39;, &#39;motor_egu&#39;]) collide with those from MyEpicsMotor(prefix=&#39;gp:m2&#39;, name=&#39;m2&#39;, settle_time=0.0, timeout=None, read_attrs=[&#39;user_readback&#39;, &#39;user_setpoint&#39;], configuration_attrs=[&#39;user_offset&#39;, &#39;user_offset_dir&#39;, &#39;velocity&#39;, &#39;acceleration&#39;, &#39;motor_egu&#39;]). The colliding keys are {&#39;m2_user_setpoint&#39;, &#39;m2&#39;}
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
New stream: &#39;label_start_motor&#39;
New stream: &#39;primary&#39;
+-----------+------------+-------------------------+-------------------------+---------------------+
|   seq_num |       time | simdet_stats1_unique_id | simdet_stats1_max_value | simdet_stats1_total |
+-----------+------------+-------------------------+-------------------------+---------------------+
|         1 | 12:50:27.4 |                    2393 |                     165 |            11798555 |
|         2 | 12:50:27.9 |                    2396 |                     162 |            11536342 |
|         3 | 12:50:28.3 |                    2399 |                     159 |            11376878 |
|         4 | 12:50:28.6 |                    2402 |                     164 |            11722874 |
|         5 | 12:50:29.0 |                    2405 |                     160 |            11390266 |
+-----------+------------+-------------------------+-------------------------+---------------------+
generator count [&#39;c9b96f7c&#39;] (scan num: 78)
uids=!r
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/howto__ad_v_motors_21_3.png" src="../_images/howto__ad_v_motors_21_3.png" />
</div>
</div>
<section id="Visualize-the-collected-data">
<h3>Visualize the collected data<a class="headerlink" href="#Visualize-the-collected-data" title="Permalink to this heading">#</a></h3>
<p>Drill into the data for the run from the catalog.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[12]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">dataset</span> <span class="o">=</span> <span class="n">cat</span><span class="p">[</span><span class="n">uids</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]]</span><span class="o">.</span><span class="n">primary</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<span class="n">image_data</span> <span class="o">=</span> <span class="n">dataset</span><span class="p">[</span><span class="s2">&quot;simdet_image&quot;</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">image_data</span><span class="o">.</span><span class="n">shape</span><span class="si">=!r}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="n">dataset</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
image_data.shape=(5, 3, 1024, 1024)
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[12]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div><svg style="position: absolute; width: 0; height: 0; overflow: hidden">
<defs>
<symbol id="icon-database" viewBox="0 0 32 32">
<path d="M16 0c-8.837 0-16 2.239-16 5v4c0 2.761 7.163 5 16 5s16-2.239 16-5v-4c0-2.761-7.163-5-16-5z"></path>
<path d="M16 17c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
<path d="M16 26c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
</symbol>
<symbol id="icon-file-text2" viewBox="0 0 32 32">
<path d="M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z"></path>
<path d="M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
</symbol>
</defs>
</svg>
<style>/* CSS stylesheet for displaying xarray objects in jupyterlab.
 *
 */

:root {
  --xr-font-color0: var(--jp-content-font-color0, rgba(0, 0, 0, 1));
  --xr-font-color2: var(--jp-content-font-color2, rgba(0, 0, 0, 0.54));
  --xr-font-color3: var(--jp-content-font-color3, rgba(0, 0, 0, 0.38));
  --xr-border-color: var(--jp-border-color2, #e0e0e0);
  --xr-disabled-color: var(--jp-layout-color3, #bdbdbd);
  --xr-background-color: var(--jp-layout-color0, white);
  --xr-background-color-row-even: var(--jp-layout-color1, white);
  --xr-background-color-row-odd: var(--jp-layout-color2, #eeeeee);
}

html[theme=dark],
body[data-theme=dark],
body.vscode-dark {
  --xr-font-color0: rgba(255, 255, 255, 1);
  --xr-font-color2: rgba(255, 255, 255, 0.54);
  --xr-font-color3: rgba(255, 255, 255, 0.38);
  --xr-border-color: #1F1F1F;
  --xr-disabled-color: #515151;
  --xr-background-color: #111111;
  --xr-background-color-row-even: #111111;
  --xr-background-color-row-odd: #313131;
}

.xr-wrap {
  display: block !important;
  min-width: 300px;
  max-width: 700px;
}

.xr-text-repr-fallback {
  /* fallback to plain text repr when CSS is not injected (untrusted notebook) */
  display: none;
}

.xr-header {
  padding-top: 6px;
  padding-bottom: 6px;
  margin-bottom: 4px;
  border-bottom: solid 1px var(--xr-border-color);
}

.xr-header > div,
.xr-header > ul {
  display: inline;
  margin-top: 0;
  margin-bottom: 0;
}

.xr-obj-type,
.xr-array-name {
  margin-left: 2px;
  margin-right: 10px;
}

.xr-obj-type {
  color: var(--xr-font-color2);
}

.xr-sections {
  padding-left: 0 !important;
  display: grid;
  grid-template-columns: 150px auto auto 1fr 20px 20px;
}

.xr-section-item {
  display: contents;
}

.xr-section-item input {
  display: none;
}

.xr-section-item input + label {
  color: var(--xr-disabled-color);
}

.xr-section-item input:enabled + label {
  cursor: pointer;
  color: var(--xr-font-color2);
}

.xr-section-item input:enabled + label:hover {
  color: var(--xr-font-color0);
}

.xr-section-summary {
  grid-column: 1;
  color: var(--xr-font-color2);
  font-weight: 500;
}

.xr-section-summary > span {
  display: inline-block;
  padding-left: 0.5em;
}

.xr-section-summary-in:disabled + label {
  color: var(--xr-font-color2);
}

.xr-section-summary-in + label:before {
  display: inline-block;
  content: '►';
  font-size: 11px;
  width: 15px;
  text-align: center;
}

.xr-section-summary-in:disabled + label:before {
  color: var(--xr-disabled-color);
}

.xr-section-summary-in:checked + label:before {
  content: '▼';
}

.xr-section-summary-in:checked + label > span {
  display: none;
}

.xr-section-summary,
.xr-section-inline-details {
  padding-top: 4px;
  padding-bottom: 4px;
}

.xr-section-inline-details {
  grid-column: 2 / -1;
}

.xr-section-details {
  display: none;
  grid-column: 1 / -1;
  margin-bottom: 5px;
}

.xr-section-summary-in:checked ~ .xr-section-details {
  display: contents;
}

.xr-array-wrap {
  grid-column: 1 / -1;
  display: grid;
  grid-template-columns: 20px auto;
}

.xr-array-wrap > label {
  grid-column: 1;
  vertical-align: top;
}

.xr-preview {
  color: var(--xr-font-color3);
}

.xr-array-preview,
.xr-array-data {
  padding: 0 5px !important;
  grid-column: 2;
}

.xr-array-data,
.xr-array-in:checked ~ .xr-array-preview {
  display: none;
}

.xr-array-in:checked ~ .xr-array-data,
.xr-array-preview {
  display: inline-block;
}

.xr-dim-list {
  display: inline-block !important;
  list-style: none;
  padding: 0 !important;
  margin: 0;
}

.xr-dim-list li {
  display: inline-block;
  padding: 0;
  margin: 0;
}

.xr-dim-list:before {
  content: '(';
}

.xr-dim-list:after {
  content: ')';
}

.xr-dim-list li:not(:last-child):after {
  content: ',';
  padding-right: 5px;
}

.xr-has-index {
  font-weight: bold;
}

.xr-var-list,
.xr-var-item {
  display: contents;
}

.xr-var-item > div,
.xr-var-item label,
.xr-var-item > .xr-var-name span {
  background-color: var(--xr-background-color-row-even);
  margin-bottom: 0;
}

.xr-var-item > .xr-var-name:hover span {
  padding-right: 5px;
}

.xr-var-list > li:nth-child(odd) > div,
.xr-var-list > li:nth-child(odd) > label,
.xr-var-list > li:nth-child(odd) > .xr-var-name span {
  background-color: var(--xr-background-color-row-odd);
}

.xr-var-name {
  grid-column: 1;
}

.xr-var-dims {
  grid-column: 2;
}

.xr-var-dtype {
  grid-column: 3;
  text-align: right;
  color: var(--xr-font-color2);
}

.xr-var-preview {
  grid-column: 4;
}

.xr-index-preview {
  grid-column: 2 / 5;
  color: var(--xr-font-color2);
}

.xr-var-name,
.xr-var-dims,
.xr-var-dtype,
.xr-preview,
.xr-attrs dt {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  padding-right: 10px;
}

.xr-var-name:hover,
.xr-var-dims:hover,
.xr-var-dtype:hover,
.xr-attrs dt:hover {
  overflow: visible;
  width: auto;
  z-index: 1;
}

.xr-var-attrs,
.xr-var-data,
.xr-index-data {
  display: none;
  background-color: var(--xr-background-color) !important;
  padding-bottom: 5px !important;
}

.xr-var-attrs-in:checked ~ .xr-var-attrs,
.xr-var-data-in:checked ~ .xr-var-data,
.xr-index-data-in:checked ~ .xr-index-data {
  display: block;
}

.xr-var-data > table {
  float: right;
}

.xr-var-name span,
.xr-var-data,
.xr-index-name div,
.xr-index-data,
.xr-attrs {
  padding-left: 25px !important;
}

.xr-attrs,
.xr-var-attrs,
.xr-var-data,
.xr-index-data {
  grid-column: 1 / -1;
}

dl.xr-attrs {
  padding: 0;
  margin: 0;
  display: grid;
  grid-template-columns: 125px auto;
}

.xr-attrs dt,
.xr-attrs dd {
  padding: 0;
  margin: 0;
  float: left;
  padding-right: 10px;
  width: auto;
}

.xr-attrs dt {
  font-weight: normal;
  grid-column: 1;
}

.xr-attrs dt:hover span {
  display: inline-block;
  background: var(--xr-background-color);
  padding-right: 10px;
}

.xr-attrs dd {
  grid-column: 2;
  white-space: pre-wrap;
  word-break: break-all;
}

.xr-icon-database,
.xr-icon-file-text2,
.xr-no-icon {
  display: inline-block;
  vertical-align: middle;
  width: 1em;
  height: 1.5em !important;
  stroke-width: 0;
  stroke: currentColor;
  fill: currentColor;
}
</style><pre class='xr-text-repr-fallback'>&lt;xarray.Dataset&gt; Size: 16MB
Dimensions:                  (time: 5, dim_0: 3, dim_1: 1024, dim_2: 1024)
Coordinates:
  * time                     (time) float64 40B 1.718e+09 ... 1.718e+09
Dimensions without coordinates: dim_0, dim_1, dim_2
Data variables:
    simdet_image             (time, dim_0, dim_1, dim_2) uint8 16MB 9 6 ... 6 8
    simdet_stats1_unique_id  (time) int64 40B 2393 2396 2399 2402 2405
    simdet_stats1_max_value  (time) float64 40B 165.0 162.0 159.0 164.0 160.0
    simdet_stats1_total      (time) float64 40B 1.18e+07 1.154e+07 ... 1.139e+07</pre><div class='xr-wrap' style='display:none'><div class='xr-header'><div class='xr-obj-type'>xarray.Dataset</div></div><ul class='xr-sections'><li class='xr-section-item'><input id='section-d41238ea-68e4-458b-b0f3-3f6b6da3a42b' class='xr-section-summary-in' type='checkbox' disabled ><label for='section-d41238ea-68e4-458b-b0f3-3f6b6da3a42b' class='xr-section-summary'  title='Expand/collapse section'>Dimensions:</label><div class='xr-section-inline-details'><ul class='xr-dim-list'><li><span class='xr-has-index'>time</span>: 5</li><li><span>dim_0</span>: 3</li><li><span>dim_1</span>: 1024</li><li><span>dim_2</span>: 1024</li></ul></div><div class='xr-section-details'></div></li><li class='xr-section-item'><input id='section-f0c3a624-48aa-43fd-a92b-b28350a393ba' class='xr-section-summary-in' type='checkbox'  checked><label for='section-f0c3a624-48aa-43fd-a92b-b28350a393ba' class='xr-section-summary' >Coordinates: <span>(1)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>time</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>1.718e+09 1.718e+09 ... 1.718e+09</div><input id='attrs-0a27e9f2-b4ee-465a-b369-c9a77b84aec3' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-0a27e9f2-b4ee-465a-b369-c9a77b84aec3' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-365cffe2-4672-4c24-add5-e0dae4886bd9' class='xr-var-data-in' type='checkbox'><label for='data-365cffe2-4672-4c24-add5-e0dae4886bd9' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([1.718387e+09, 1.718387e+09, 1.718387e+09, 1.718387e+09, 1.718387e+09])</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-f0d10b97-616b-4931-9134-7cd3d09aab7f' class='xr-section-summary-in' type='checkbox'  checked><label for='section-f0d10b97-616b-4931-9134-7cd3d09aab7f' class='xr-section-summary' >Data variables: <span>(4)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span>simdet_image</span></div><div class='xr-var-dims'>(time, dim_0, dim_1, dim_2)</div><div class='xr-var-dtype'>uint8</div><div class='xr-var-preview xr-preview'>9 6 11 8 8 6 11 ... 10 14 9 13 6 8</div><input id='attrs-675958c0-5cc8-4f15-851c-37252809a242' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-675958c0-5cc8-4f15-851c-37252809a242' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-2ea6cf0c-108b-4a4a-93b9-9595ecfcbfb5' class='xr-var-data-in' type='checkbox'><label for='data-2ea6cf0c-108b-4a4a-93b9-9595ecfcbfb5' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>object :</span></dt><dd>simdet</dd></dl></div><div class='xr-var-data'><pre>array([[[[ 9,  6, 11, ...,  9,  7,  7],
         [ 5,  5,  5, ...,  8, 14,  9],
         [ 8, 10,  6, ..., 11,  7,  7],
         ...,
         [ 7, 11, 10, ..., 11,  6,  8],
         [ 7,  5,  7, ...,  8,  6, 11],
         [11,  6,  7, ...,  7, 11,  9]],

        [[ 8, 13, 14, ..., 12,  9,  9],
         [11,  6,  7, ..., 10, 12, 10],
         [13,  7,  6, ...,  6,  9,  7],
         ...,
         [ 7, 14, 13, ...,  6,  7, 12],
         [12, 11,  9, ..., 12, 13,  6],
         [12,  7,  9, ...,  8, 12, 14]],

        [[ 7, 10,  8, ...,  9, 10, 11],
         [13, 10,  8, ...,  5, 12, 14],
         [ 6,  9,  9, ...,  7,  6,  5],
         ...,
...
         ...,
         [14, 13,  8, ..., 13,  8,  5],
         [ 8, 13, 12, ...,  9, 10,  6],
         [12, 14,  7, ..., 12,  5, 13]],

        [[ 8,  6, 14, ..., 12, 13, 13],
         [ 6,  8, 13, ..., 11, 11, 12],
         [13,  5, 13, ..., 12, 10,  9],
         ...,
         [12, 11, 13, ..., 12,  9, 13],
         [ 5,  6, 10, ...,  5,  6,  6],
         [10,  6,  8, ...,  5, 10, 13]],

        [[ 9,  9, 12, ...,  5, 12, 11],
         [12, 14, 12, ...,  8, 10, 13],
         [ 6,  8, 10, ...,  8,  5, 13],
         ...,
         [12, 14, 12, ...,  6, 10, 14],
         [ 7,  8,  8, ..., 10,  7,  7],
         [11,  6,  9, ..., 13,  6,  8]]]], dtype=uint8)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>simdet_stats1_unique_id</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>int64</div><div class='xr-var-preview xr-preview'>2393 2396 2399 2402 2405</div><input id='attrs-b55627b9-2362-40d5-9b51-0b72859a1432' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-b55627b9-2362-40d5-9b51-0b72859a1432' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-2f02da5d-5b75-49b8-b0e6-5f8998177e71' class='xr-var-data-in' type='checkbox'><label for='data-2f02da5d-5b75-49b8-b0e6-5f8998177e71' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>object :</span></dt><dd>simdet</dd></dl></div><div class='xr-var-data'><pre>array([2393, 2396, 2399, 2402, 2405])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>simdet_stats1_max_value</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>165.0 162.0 159.0 164.0 160.0</div><input id='attrs-dcf431c7-4f14-49d5-9460-8d77b7e84504' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-dcf431c7-4f14-49d5-9460-8d77b7e84504' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-fa337c0f-217b-4fa7-a937-4236b115645e' class='xr-var-data-in' type='checkbox'><label for='data-fa337c0f-217b-4fa7-a937-4236b115645e' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>object :</span></dt><dd>simdet</dd></dl></div><div class='xr-var-data'><pre>array([165., 162., 159., 164., 160.])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>simdet_stats1_total</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>1.18e+07 1.154e+07 ... 1.139e+07</div><input id='attrs-b0d42c03-44b1-4808-bc1d-02619b897104' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-b0d42c03-44b1-4808-bc1d-02619b897104' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-8a8f108b-f723-46bb-9a86-8bc1df27868e' class='xr-var-data-in' type='checkbox'><label for='data-8a8f108b-f723-46bb-9a86-8bc1df27868e' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>object :</span></dt><dd>simdet</dd></dl></div><div class='xr-var-data'><pre>array([11798555., 11536342., 11376878., 11722874., 11390266.])</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-ed56c2e6-f059-44ea-81a5-e74a78a09010' class='xr-section-summary-in' type='checkbox'  ><label for='section-ed56c2e6-f059-44ea-81a5-e74a78a09010' class='xr-section-summary' >Indexes: <span>(1)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-index-name'><div>time</div></div><div class='xr-index-preview'>PandasIndex</div><div></div><input id='index-8b29ebcc-7031-4d4a-bfe2-0b0e8307a685' class='xr-index-data-in' type='checkbox'/><label for='index-8b29ebcc-7031-4d4a-bfe2-0b0e8307a685' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Index([1718387427.4966648, 1718387427.9099917, 1718387428.3058481,
       1718387428.6991007,  1718387429.094474],
      dtype=&#x27;float64&#x27;, name=&#x27;time&#x27;))</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-e15d3938-5347-46c7-8333-44b28c2f3016' class='xr-section-summary-in' type='checkbox' disabled ><label for='section-e15d3938-5347-46c7-8333-44b28c2f3016' class='xr-section-summary'  title='Expand/collapse section'>Attributes: <span>(0)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><dl class='xr-attrs'></dl></div></li></ul></div></div></div>
</div>
<p>Show the first image frame from the first <em>point</em>.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[13]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">image_data</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">pcolormesh</span><span class="p">()</span>  <span class="c1"># Plot the first frame.</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[13]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
&lt;matplotlib.collections.QuadMesh at 0x7f2800339450&gt;
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/howto__ad_v_motors_25_1.png" src="../_images/howto__ad_v_motors_25_1.png" />
</div>
</div>
<p>Information about the HDF5 file is saved as a <code class="docutils literal notranslate"><span class="pre">resource</span></code> document in the catalog. This command shows the content of that document.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[14]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">run</span> <span class="o">=</span> <span class="n">cat</span><span class="p">[</span><span class="n">uids</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]]</span>
<span class="n">resources</span> <span class="o">=</span> <span class="n">run</span><span class="o">.</span><span class="n">primary</span><span class="o">.</span><span class="n">_resources</span>
<span class="n">resources</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[14]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[Resource({&#39;path_semantics&#39;: &#39;posix&#39;,
 &#39;resource_kwargs&#39;: {&#39;frame_per_point&#39;: 3},
 &#39;resource_path&#39;: &#39;mnt/iockad/tmp/a34e6bc8-6f23-412a-abe0_000000.h5&#39;,
 &#39;root&#39;: &#39;/&#39;,
 &#39;run_start&#39;: &#39;c9b96f7c-3f94-480e-a746-ee9455d3cb2e&#39;,
 &#39;spec&#39;: &#39;AD_HDF5&#39;,
 &#39;uid&#39;: &#39;cdb02c31-5d40-4e8d-a07d-5f02fd1ace2a&#39;})]
</pre></div></div>
</div>
<p>Note this is a Python <code class="docutils literal notranslate"><span class="pre">list</span></code>. The file name, as the catalog will find its image contents, is reconstructed:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[15]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">resources</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s2">&quot;root&quot;</span><span class="p">]</span> <span class="o">+</span> <span class="n">resources</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s2">&quot;resource_path&quot;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[15]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
&#39;/mnt/iockad/tmp/a34e6bc8-6f23-412a-abe0_000000.h5&#39;
</pre></div></div>
</div>
<p>Show that this file is recognized on the file system available to Bluesky.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[16]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pathlib</span> <span class="kn">import</span> <span class="n">Path</span>
<span class="n">image_file</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="n">resources</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s2">&quot;root&quot;</span><span class="p">]</span> <span class="o">+</span> <span class="n">resources</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s2">&quot;resource_path&quot;</span><span class="p">])</span>
<span class="n">image_file</span><span class="o">.</span><span class="n">exists</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[16]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
True
</pre></div></div>
</div>
</section>
</section>
<section id="The-(1-D)-bp.scan()-plan-with-one-motor">
<h2>The (1-D) <code class="docutils literal notranslate"><span class="pre">bp.scan()</span></code> plan with one motor<a class="headerlink" href="#The-(1-D)-bp.scan()-plan-with-one-motor" title="Permalink to this heading">#</a></h2>
<p>Step scan a motor (m1) and measure 3 (as configured above) images at each step. Also record total counts and the maximum counts value for each step.</p>
<p>In the interest of brevity here, further graphical data visualization will be turned off. Refer to the section above for the visualization steps. They are identical for each type of scan.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[17]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">bec</span><span class="o">.</span><span class="n">disable_plots</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[18]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">uids</span> <span class="o">=</span> <span class="n">RE</span><span class="p">(</span><span class="n">bp</span><span class="o">.</span><span class="n">scan</span><span class="p">([</span><span class="n">simdet</span><span class="p">],</span> <span class="n">m1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>
<span class="n">dataset</span> <span class="o">=</span> <span class="n">cat</span><span class="p">[</span><span class="n">uids</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]]</span><span class="o">.</span><span class="n">primary</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<span class="n">image_data</span> <span class="o">=</span> <span class="n">dataset</span><span class="p">[</span><span class="s2">&quot;simdet_image&quot;</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">image_data</span><span class="o">.</span><span class="n">shape</span><span class="si">=!r}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="n">dataset</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>


Transient Scan ID: 79     Time: 2024-06-14 12:50:31
Persistent Unique Scan ID: &#39;b5893ed7-1962-42ac-a933-1fc331f081a7&#39;
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
device=MyEpicsMotor(prefix=&#39;gp:m2&#39;, name=&#39;m2&#39;, settle_time=0.0, timeout=None, read_attrs=[&#39;user_readback&#39;, &#39;user_setpoint&#39;], configuration_attrs=[&#39;user_offset&#39;, &#39;user_offset_dir&#39;, &#39;velocity&#39;, &#39;acceleration&#39;, &#39;motor_egu&#39;]), exception=Data keys (field names) from MyEpicsMotor(prefix=&#39;gp:m2&#39;, name=&#39;m2&#39;, settle_time=0.0, timeout=None, read_attrs=[&#39;user_readback&#39;, &#39;user_setpoint&#39;], configuration_attrs=[&#39;user_offset&#39;, &#39;user_offset_dir&#39;, &#39;velocity&#39;, &#39;acceleration&#39;, &#39;motor_egu&#39;]) collide with those from MyEpicsMotor(prefix=&#39;gp:m2&#39;, name=&#39;m2&#39;, settle_time=0.0, timeout=None, read_attrs=[&#39;user_readback&#39;, &#39;user_setpoint&#39;], configuration_attrs=[&#39;user_offset&#39;, &#39;user_offset_dir&#39;, &#39;velocity&#39;, &#39;acceleration&#39;, &#39;motor_egu&#39;]). The colliding keys are {&#39;m2_user_setpoint&#39;, &#39;m2&#39;}
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
New stream: &#39;label_start_motor&#39;
New stream: &#39;primary&#39;
+-----------+------------+------------+-------------------------+-------------------------+---------------------+
|   seq_num |       time |         m1 | simdet_stats1_unique_id | simdet_stats1_max_value | simdet_stats1_total |
+-----------+------------+------------+-------------------------+-------------------------+---------------------+
|         1 | 12:50:34.3 |    -1.0000 |                    2408 |                     162 |            11537030 |
|         2 | 12:50:35.1 |    -0.5000 |                    2411 |                     160 |            11420007 |
|         3 | 12:50:35.9 |     0.0000 |                    2414 |                     162 |            11521488 |
|         4 | 12:50:36.7 |     0.5000 |                    2417 |                     163 |            11657838 |
|         5 | 12:50:37.5 |     1.0000 |                    2420 |                     166 |            11837844 |
+-----------+------------+------------+-------------------------+-------------------------+---------------------+
generator scan [&#39;b5893ed7&#39;] (scan num: 79)
image_data.shape=(5, 3, 1024, 1024)
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[18]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div><svg style="position: absolute; width: 0; height: 0; overflow: hidden">
<defs>
<symbol id="icon-database" viewBox="0 0 32 32">
<path d="M16 0c-8.837 0-16 2.239-16 5v4c0 2.761 7.163 5 16 5s16-2.239 16-5v-4c0-2.761-7.163-5-16-5z"></path>
<path d="M16 17c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
<path d="M16 26c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
</symbol>
<symbol id="icon-file-text2" viewBox="0 0 32 32">
<path d="M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z"></path>
<path d="M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
</symbol>
</defs>
</svg>
<style>/* CSS stylesheet for displaying xarray objects in jupyterlab.
 *
 */

:root {
  --xr-font-color0: var(--jp-content-font-color0, rgba(0, 0, 0, 1));
  --xr-font-color2: var(--jp-content-font-color2, rgba(0, 0, 0, 0.54));
  --xr-font-color3: var(--jp-content-font-color3, rgba(0, 0, 0, 0.38));
  --xr-border-color: var(--jp-border-color2, #e0e0e0);
  --xr-disabled-color: var(--jp-layout-color3, #bdbdbd);
  --xr-background-color: var(--jp-layout-color0, white);
  --xr-background-color-row-even: var(--jp-layout-color1, white);
  --xr-background-color-row-odd: var(--jp-layout-color2, #eeeeee);
}

html[theme=dark],
body[data-theme=dark],
body.vscode-dark {
  --xr-font-color0: rgba(255, 255, 255, 1);
  --xr-font-color2: rgba(255, 255, 255, 0.54);
  --xr-font-color3: rgba(255, 255, 255, 0.38);
  --xr-border-color: #1F1F1F;
  --xr-disabled-color: #515151;
  --xr-background-color: #111111;
  --xr-background-color-row-even: #111111;
  --xr-background-color-row-odd: #313131;
}

.xr-wrap {
  display: block !important;
  min-width: 300px;
  max-width: 700px;
}

.xr-text-repr-fallback {
  /* fallback to plain text repr when CSS is not injected (untrusted notebook) */
  display: none;
}

.xr-header {
  padding-top: 6px;
  padding-bottom: 6px;
  margin-bottom: 4px;
  border-bottom: solid 1px var(--xr-border-color);
}

.xr-header > div,
.xr-header > ul {
  display: inline;
  margin-top: 0;
  margin-bottom: 0;
}

.xr-obj-type,
.xr-array-name {
  margin-left: 2px;
  margin-right: 10px;
}

.xr-obj-type {
  color: var(--xr-font-color2);
}

.xr-sections {
  padding-left: 0 !important;
  display: grid;
  grid-template-columns: 150px auto auto 1fr 20px 20px;
}

.xr-section-item {
  display: contents;
}

.xr-section-item input {
  display: none;
}

.xr-section-item input + label {
  color: var(--xr-disabled-color);
}

.xr-section-item input:enabled + label {
  cursor: pointer;
  color: var(--xr-font-color2);
}

.xr-section-item input:enabled + label:hover {
  color: var(--xr-font-color0);
}

.xr-section-summary {
  grid-column: 1;
  color: var(--xr-font-color2);
  font-weight: 500;
}

.xr-section-summary > span {
  display: inline-block;
  padding-left: 0.5em;
}

.xr-section-summary-in:disabled + label {
  color: var(--xr-font-color2);
}

.xr-section-summary-in + label:before {
  display: inline-block;
  content: '►';
  font-size: 11px;
  width: 15px;
  text-align: center;
}

.xr-section-summary-in:disabled + label:before {
  color: var(--xr-disabled-color);
}

.xr-section-summary-in:checked + label:before {
  content: '▼';
}

.xr-section-summary-in:checked + label > span {
  display: none;
}

.xr-section-summary,
.xr-section-inline-details {
  padding-top: 4px;
  padding-bottom: 4px;
}

.xr-section-inline-details {
  grid-column: 2 / -1;
}

.xr-section-details {
  display: none;
  grid-column: 1 / -1;
  margin-bottom: 5px;
}

.xr-section-summary-in:checked ~ .xr-section-details {
  display: contents;
}

.xr-array-wrap {
  grid-column: 1 / -1;
  display: grid;
  grid-template-columns: 20px auto;
}

.xr-array-wrap > label {
  grid-column: 1;
  vertical-align: top;
}

.xr-preview {
  color: var(--xr-font-color3);
}

.xr-array-preview,
.xr-array-data {
  padding: 0 5px !important;
  grid-column: 2;
}

.xr-array-data,
.xr-array-in:checked ~ .xr-array-preview {
  display: none;
}

.xr-array-in:checked ~ .xr-array-data,
.xr-array-preview {
  display: inline-block;
}

.xr-dim-list {
  display: inline-block !important;
  list-style: none;
  padding: 0 !important;
  margin: 0;
}

.xr-dim-list li {
  display: inline-block;
  padding: 0;
  margin: 0;
}

.xr-dim-list:before {
  content: '(';
}

.xr-dim-list:after {
  content: ')';
}

.xr-dim-list li:not(:last-child):after {
  content: ',';
  padding-right: 5px;
}

.xr-has-index {
  font-weight: bold;
}

.xr-var-list,
.xr-var-item {
  display: contents;
}

.xr-var-item > div,
.xr-var-item label,
.xr-var-item > .xr-var-name span {
  background-color: var(--xr-background-color-row-even);
  margin-bottom: 0;
}

.xr-var-item > .xr-var-name:hover span {
  padding-right: 5px;
}

.xr-var-list > li:nth-child(odd) > div,
.xr-var-list > li:nth-child(odd) > label,
.xr-var-list > li:nth-child(odd) > .xr-var-name span {
  background-color: var(--xr-background-color-row-odd);
}

.xr-var-name {
  grid-column: 1;
}

.xr-var-dims {
  grid-column: 2;
}

.xr-var-dtype {
  grid-column: 3;
  text-align: right;
  color: var(--xr-font-color2);
}

.xr-var-preview {
  grid-column: 4;
}

.xr-index-preview {
  grid-column: 2 / 5;
  color: var(--xr-font-color2);
}

.xr-var-name,
.xr-var-dims,
.xr-var-dtype,
.xr-preview,
.xr-attrs dt {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  padding-right: 10px;
}

.xr-var-name:hover,
.xr-var-dims:hover,
.xr-var-dtype:hover,
.xr-attrs dt:hover {
  overflow: visible;
  width: auto;
  z-index: 1;
}

.xr-var-attrs,
.xr-var-data,
.xr-index-data {
  display: none;
  background-color: var(--xr-background-color) !important;
  padding-bottom: 5px !important;
}

.xr-var-attrs-in:checked ~ .xr-var-attrs,
.xr-var-data-in:checked ~ .xr-var-data,
.xr-index-data-in:checked ~ .xr-index-data {
  display: block;
}

.xr-var-data > table {
  float: right;
}

.xr-var-name span,
.xr-var-data,
.xr-index-name div,
.xr-index-data,
.xr-attrs {
  padding-left: 25px !important;
}

.xr-attrs,
.xr-var-attrs,
.xr-var-data,
.xr-index-data {
  grid-column: 1 / -1;
}

dl.xr-attrs {
  padding: 0;
  margin: 0;
  display: grid;
  grid-template-columns: 125px auto;
}

.xr-attrs dt,
.xr-attrs dd {
  padding: 0;
  margin: 0;
  float: left;
  padding-right: 10px;
  width: auto;
}

.xr-attrs dt {
  font-weight: normal;
  grid-column: 1;
}

.xr-attrs dt:hover span {
  display: inline-block;
  background: var(--xr-background-color);
  padding-right: 10px;
}

.xr-attrs dd {
  grid-column: 2;
  white-space: pre-wrap;
  word-break: break-all;
}

.xr-icon-database,
.xr-icon-file-text2,
.xr-no-icon {
  display: inline-block;
  vertical-align: middle;
  width: 1em;
  height: 1.5em !important;
  stroke-width: 0;
  stroke: currentColor;
  fill: currentColor;
}
</style><pre class='xr-text-repr-fallback'>&lt;xarray.Dataset&gt; Size: 16MB
Dimensions:                  (time: 5, dim_0: 3, dim_1: 1024, dim_2: 1024)
Coordinates:
  * time                     (time) float64 40B 1.718e+09 ... 1.718e+09
Dimensions without coordinates: dim_0, dim_1, dim_2
Data variables:
    simdet_image             (time, dim_0, dim_1, dim_2) uint8 16MB 13 5 ... 8 9
    simdet_stats1_unique_id  (time) int64 40B 2408 2411 2414 2417 2420
    simdet_stats1_max_value  (time) float64 40B 162.0 160.0 162.0 163.0 166.0
    simdet_stats1_total      (time) float64 40B 1.154e+07 ... 1.184e+07
    m1                       (time) float64 40B -1.0 -0.5 0.0 0.5 1.0
    m1_user_setpoint         (time) float64 40B -1.0 -0.5 0.0 0.5 1.0</pre><div class='xr-wrap' style='display:none'><div class='xr-header'><div class='xr-obj-type'>xarray.Dataset</div></div><ul class='xr-sections'><li class='xr-section-item'><input id='section-5b0fb3d8-e32e-4bf8-8632-28088f8d72f6' class='xr-section-summary-in' type='checkbox' disabled ><label for='section-5b0fb3d8-e32e-4bf8-8632-28088f8d72f6' class='xr-section-summary'  title='Expand/collapse section'>Dimensions:</label><div class='xr-section-inline-details'><ul class='xr-dim-list'><li><span class='xr-has-index'>time</span>: 5</li><li><span>dim_0</span>: 3</li><li><span>dim_1</span>: 1024</li><li><span>dim_2</span>: 1024</li></ul></div><div class='xr-section-details'></div></li><li class='xr-section-item'><input id='section-179eeada-3653-4bb7-98e6-66db0b76807e' class='xr-section-summary-in' type='checkbox'  checked><label for='section-179eeada-3653-4bb7-98e6-66db0b76807e' class='xr-section-summary' >Coordinates: <span>(1)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>time</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>1.718e+09 1.718e+09 ... 1.718e+09</div><input id='attrs-fca0767b-79b4-4be3-a63e-a87fc705b231' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-fca0767b-79b4-4be3-a63e-a87fc705b231' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-9c2fc2b0-ce03-4730-b724-0e8caa7ec962' class='xr-var-data-in' type='checkbox'><label for='data-9c2fc2b0-ce03-4730-b724-0e8caa7ec962' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([1.718387e+09, 1.718387e+09, 1.718387e+09, 1.718387e+09, 1.718387e+09])</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-7b346041-4ed4-4958-91c2-9a1bdf27f420' class='xr-section-summary-in' type='checkbox'  checked><label for='section-7b346041-4ed4-4958-91c2-9a1bdf27f420' class='xr-section-summary' >Data variables: <span>(6)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span>simdet_image</span></div><div class='xr-var-dims'>(time, dim_0, dim_1, dim_2)</div><div class='xr-var-dtype'>uint8</div><div class='xr-var-preview xr-preview'>13 5 5 12 12 12 ... 11 13 11 14 8 9</div><input id='attrs-8ca7de25-0e35-482e-940f-ca82d218e7cf' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-8ca7de25-0e35-482e-940f-ca82d218e7cf' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-51f04daf-b03f-41ed-97ba-c92d89b2288a' class='xr-var-data-in' type='checkbox'><label for='data-51f04daf-b03f-41ed-97ba-c92d89b2288a' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>object :</span></dt><dd>simdet</dd></dl></div><div class='xr-var-data'><pre>array([[[[13,  5,  5, ..., 10,  5,  5],
         [ 6,  6,  8, ..., 11,  5, 13],
         [ 5,  6, 10, ..., 12, 12, 14],
         ...,
         [ 8, 13,  5, ..., 12,  8,  8],
         [ 7,  5,  5, ..., 14, 14, 11],
         [ 7, 11,  6, ...,  8, 14, 10]],

        [[ 6,  6,  8, ..., 11, 12, 11],
         [ 5, 14,  5, ...,  8,  9, 13],
         [12, 14,  7, ..., 10,  5, 12],
         ...,
         [13, 11, 13, ...,  7,  9,  5],
         [14, 13,  8, ..., 11,  8,  5],
         [13, 12,  8, ...,  9, 12,  7]],

        [[ 8,  8,  7, ...,  7,  6,  7],
         [ 9,  5,  7, ...,  6,  5, 11],
         [13, 12, 13, ...,  5, 13,  5],
         ...,
...
         ...,
         [14, 14,  9, ...,  6,  8, 11],
         [ 8,  9,  5, ...,  9, 13,  6],
         [11, 10,  8, ...,  8,  6, 11]],

        [[ 9, 11,  5, ..., 11, 10,  8],
         [ 7,  5, 10, ...,  7,  5, 12],
         [ 7, 12, 10, ...,  9, 14,  5],
         ...,
         [10, 10,  8, ..., 11,  6,  5],
         [14, 12, 11, ...,  5,  7,  6],
         [ 8,  9,  8, ...,  8,  5, 14]],

        [[13,  9,  5, ...,  9, 12, 10],
         [10, 12, 14, ...,  5,  6, 13],
         [12, 13, 14, ..., 12, 12,  7],
         ...,
         [ 6, 12,  6, ...,  9,  5, 14],
         [ 9,  7,  7, ..., 10, 10, 10],
         [14,  7, 13, ..., 14,  8,  9]]]], dtype=uint8)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>simdet_stats1_unique_id</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>int64</div><div class='xr-var-preview xr-preview'>2408 2411 2414 2417 2420</div><input id='attrs-d6421b1e-7fa2-436a-a8c8-69ee0ca41708' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-d6421b1e-7fa2-436a-a8c8-69ee0ca41708' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-87d465dc-a02e-4eae-a1b6-5f93944bf68b' class='xr-var-data-in' type='checkbox'><label for='data-87d465dc-a02e-4eae-a1b6-5f93944bf68b' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>object :</span></dt><dd>simdet</dd></dl></div><div class='xr-var-data'><pre>array([2408, 2411, 2414, 2417, 2420])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>simdet_stats1_max_value</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>162.0 160.0 162.0 163.0 166.0</div><input id='attrs-c9c7cd6b-fd68-4c72-86dc-27b2982fd732' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-c9c7cd6b-fd68-4c72-86dc-27b2982fd732' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-e25ad074-906a-47bd-93f2-2720998d5184' class='xr-var-data-in' type='checkbox'><label for='data-e25ad074-906a-47bd-93f2-2720998d5184' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>object :</span></dt><dd>simdet</dd></dl></div><div class='xr-var-data'><pre>array([162., 160., 162., 163., 166.])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>simdet_stats1_total</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>1.154e+07 1.142e+07 ... 1.184e+07</div><input id='attrs-8da69b73-8eba-4fc9-b281-34d7df3aed4b' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-8da69b73-8eba-4fc9-b281-34d7df3aed4b' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-8440450b-00cb-4b29-a523-cd261e8da32b' class='xr-var-data-in' type='checkbox'><label for='data-8440450b-00cb-4b29-a523-cd261e8da32b' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>object :</span></dt><dd>simdet</dd></dl></div><div class='xr-var-data'><pre>array([11537030., 11420007., 11521488., 11657838., 11837844.])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>m1</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>-1.0 -0.5 0.0 0.5 1.0</div><input id='attrs-a8b7662d-9c67-48b0-b74d-79825e12f02f' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-a8b7662d-9c67-48b0-b74d-79825e12f02f' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-2595e14a-c57d-407a-a2cb-79ee587a7c7c' class='xr-var-data-in' type='checkbox'><label for='data-2595e14a-c57d-407a-a2cb-79ee587a7c7c' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>object :</span></dt><dd>m1</dd></dl></div><div class='xr-var-data'><pre>array([-1. , -0.5,  0. ,  0.5,  1. ])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>m1_user_setpoint</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>-1.0 -0.5 0.0 0.5 1.0</div><input id='attrs-908a218d-826b-4f8a-986d-e76950921af0' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-908a218d-826b-4f8a-986d-e76950921af0' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-fcd1d17e-3f56-4fe9-9c88-4f1f3071e81d' class='xr-var-data-in' type='checkbox'><label for='data-fcd1d17e-3f56-4fe9-9c88-4f1f3071e81d' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>object :</span></dt><dd>m1</dd></dl></div><div class='xr-var-data'><pre>array([-1. , -0.5,  0. ,  0.5,  1. ])</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-9dc598cc-8bcd-4e77-af0d-10de9e70da5c' class='xr-section-summary-in' type='checkbox'  ><label for='section-9dc598cc-8bcd-4e77-af0d-10de9e70da5c' class='xr-section-summary' >Indexes: <span>(1)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-index-name'><div>time</div></div><div class='xr-index-preview'>PandasIndex</div><div></div><input id='index-46381609-3e7b-4d32-b516-2d6797092053' class='xr-index-data-in' type='checkbox'/><label for='index-46381609-3e7b-4d32-b516-2d6797092053' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Index([ 1718387434.353916, 1718387435.1082132, 1718387435.9106693,
       1718387436.7145565, 1718387437.5167904],
      dtype=&#x27;float64&#x27;, name=&#x27;time&#x27;))</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-8b4800c1-df96-44f3-9398-bdce5dcfe2d4' class='xr-section-summary-in' type='checkbox' disabled ><label for='section-8b4800c1-df96-44f3-9398-bdce5dcfe2d4' class='xr-section-summary'  title='Expand/collapse section'>Attributes: <span>(0)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><dl class='xr-attrs'></dl></div></li></ul></div></div></div>
</div>
</section>
<section id="The-(1-D)-bp.scan()-plan-with-two-motors">
<h2>The (1-D) <code class="docutils literal notranslate"><span class="pre">bp.scan()</span></code> plan with two motors<a class="headerlink" href="#The-(1-D)-bp.scan()-plan-with-two-motors" title="Permalink to this heading">#</a></h2>
<p>Step scan two motors together (m1 &amp; m2) and measure 3 (as configured above) images at each step. Also record total counts and the maximum counts value for each step.</p>
<p>For clarity, the <code class="docutils literal notranslate"><span class="pre">scan</span></code> arguments are split into multiple lines.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[19]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">uids</span> <span class="o">=</span> <span class="n">RE</span><span class="p">(</span>
    <span class="n">bp</span><span class="o">.</span><span class="n">scan</span><span class="p">(</span>
        <span class="p">[</span><span class="n">simdet</span><span class="p">],</span>
        <span class="n">m1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span>
        <span class="n">m2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mf">1.5</span><span class="p">,</span>
        <span class="mi">5</span><span class="p">,</span>
    <span class="p">)</span>
<span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;uids=!r&quot;</span><span class="p">)</span>
<span class="n">dataset</span> <span class="o">=</span> <span class="n">cat</span><span class="p">[</span><span class="n">uids</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]]</span><span class="o">.</span><span class="n">primary</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<span class="n">image_data</span> <span class="o">=</span> <span class="n">dataset</span><span class="p">[</span><span class="s2">&quot;simdet_image&quot;</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">image_data</span><span class="o">.</span><span class="n">shape</span><span class="si">=!r}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="n">dataset</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>


Transient Scan ID: 80     Time: 2024-06-14 12:50:38
Persistent Unique Scan ID: &#39;6cf12bfd-917f-4b71-a3fc-6064261b8f84&#39;
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
device=MyEpicsMotor(prefix=&#39;gp:m2&#39;, name=&#39;m2&#39;, settle_time=0.0, timeout=None, read_attrs=[&#39;user_readback&#39;, &#39;user_setpoint&#39;], configuration_attrs=[&#39;user_offset&#39;, &#39;user_offset_dir&#39;, &#39;velocity&#39;, &#39;acceleration&#39;, &#39;motor_egu&#39;]), exception=Data keys (field names) from MyEpicsMotor(prefix=&#39;gp:m2&#39;, name=&#39;m2&#39;, settle_time=0.0, timeout=None, read_attrs=[&#39;user_readback&#39;, &#39;user_setpoint&#39;], configuration_attrs=[&#39;user_offset&#39;, &#39;user_offset_dir&#39;, &#39;velocity&#39;, &#39;acceleration&#39;, &#39;motor_egu&#39;]) collide with those from MyEpicsMotor(prefix=&#39;gp:m2&#39;, name=&#39;m2&#39;, settle_time=0.0, timeout=None, read_attrs=[&#39;user_readback&#39;, &#39;user_setpoint&#39;], configuration_attrs=[&#39;user_offset&#39;, &#39;user_offset_dir&#39;, &#39;velocity&#39;, &#39;acceleration&#39;, &#39;motor_egu&#39;]). The colliding keys are {&#39;m2_user_setpoint&#39;, &#39;m2&#39;}
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
New stream: &#39;label_start_motor&#39;
New stream: &#39;primary&#39;
+-----------+------------+------------+------------+-------------------------+-------------------------+---------------------+
|   seq_num |       time |         m1 |         m2 | simdet_stats1_unique_id | simdet_stats1_max_value | simdet_stats1_total |
+-----------+------------+------------+------------+-------------------------+-------------------------+---------------------+
|         1 | 12:50:42.4 |    -1.0000 |     4.0000 |                    2423 |                     166 |            11853218 |
|         2 | 12:50:43.3 |    -0.5000 |     3.3750 |                    2426 |                     162 |            11536919 |
|         3 | 12:50:44.2 |     0.0000 |     2.7500 |                    2429 |                     159 |            11340043 |
|         4 | 12:50:45.1 |     0.5000 |     2.1250 |                    2432 |                     162 |            11535990 |
|         5 | 12:50:46.0 |     1.0000 |     1.5000 |                    2435 |                     164 |            11720835 |
+-----------+------------+------------+------------+-------------------------+-------------------------+---------------------+
generator scan [&#39;6cf12bfd&#39;] (scan num: 80)
uids=!r
image_data.shape=(5, 3, 1024, 1024)
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[19]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div><svg style="position: absolute; width: 0; height: 0; overflow: hidden">
<defs>
<symbol id="icon-database" viewBox="0 0 32 32">
<path d="M16 0c-8.837 0-16 2.239-16 5v4c0 2.761 7.163 5 16 5s16-2.239 16-5v-4c0-2.761-7.163-5-16-5z"></path>
<path d="M16 17c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
<path d="M16 26c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
</symbol>
<symbol id="icon-file-text2" viewBox="0 0 32 32">
<path d="M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z"></path>
<path d="M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
</symbol>
</defs>
</svg>
<style>/* CSS stylesheet for displaying xarray objects in jupyterlab.
 *
 */

:root {
  --xr-font-color0: var(--jp-content-font-color0, rgba(0, 0, 0, 1));
  --xr-font-color2: var(--jp-content-font-color2, rgba(0, 0, 0, 0.54));
  --xr-font-color3: var(--jp-content-font-color3, rgba(0, 0, 0, 0.38));
  --xr-border-color: var(--jp-border-color2, #e0e0e0);
  --xr-disabled-color: var(--jp-layout-color3, #bdbdbd);
  --xr-background-color: var(--jp-layout-color0, white);
  --xr-background-color-row-even: var(--jp-layout-color1, white);
  --xr-background-color-row-odd: var(--jp-layout-color2, #eeeeee);
}

html[theme=dark],
body[data-theme=dark],
body.vscode-dark {
  --xr-font-color0: rgba(255, 255, 255, 1);
  --xr-font-color2: rgba(255, 255, 255, 0.54);
  --xr-font-color3: rgba(255, 255, 255, 0.38);
  --xr-border-color: #1F1F1F;
  --xr-disabled-color: #515151;
  --xr-background-color: #111111;
  --xr-background-color-row-even: #111111;
  --xr-background-color-row-odd: #313131;
}

.xr-wrap {
  display: block !important;
  min-width: 300px;
  max-width: 700px;
}

.xr-text-repr-fallback {
  /* fallback to plain text repr when CSS is not injected (untrusted notebook) */
  display: none;
}

.xr-header {
  padding-top: 6px;
  padding-bottom: 6px;
  margin-bottom: 4px;
  border-bottom: solid 1px var(--xr-border-color);
}

.xr-header > div,
.xr-header > ul {
  display: inline;
  margin-top: 0;
  margin-bottom: 0;
}

.xr-obj-type,
.xr-array-name {
  margin-left: 2px;
  margin-right: 10px;
}

.xr-obj-type {
  color: var(--xr-font-color2);
}

.xr-sections {
  padding-left: 0 !important;
  display: grid;
  grid-template-columns: 150px auto auto 1fr 20px 20px;
}

.xr-section-item {
  display: contents;
}

.xr-section-item input {
  display: none;
}

.xr-section-item input + label {
  color: var(--xr-disabled-color);
}

.xr-section-item input:enabled + label {
  cursor: pointer;
  color: var(--xr-font-color2);
}

.xr-section-item input:enabled + label:hover {
  color: var(--xr-font-color0);
}

.xr-section-summary {
  grid-column: 1;
  color: var(--xr-font-color2);
  font-weight: 500;
}

.xr-section-summary > span {
  display: inline-block;
  padding-left: 0.5em;
}

.xr-section-summary-in:disabled + label {
  color: var(--xr-font-color2);
}

.xr-section-summary-in + label:before {
  display: inline-block;
  content: '►';
  font-size: 11px;
  width: 15px;
  text-align: center;
}

.xr-section-summary-in:disabled + label:before {
  color: var(--xr-disabled-color);
}

.xr-section-summary-in:checked + label:before {
  content: '▼';
}

.xr-section-summary-in:checked + label > span {
  display: none;
}

.xr-section-summary,
.xr-section-inline-details {
  padding-top: 4px;
  padding-bottom: 4px;
}

.xr-section-inline-details {
  grid-column: 2 / -1;
}

.xr-section-details {
  display: none;
  grid-column: 1 / -1;
  margin-bottom: 5px;
}

.xr-section-summary-in:checked ~ .xr-section-details {
  display: contents;
}

.xr-array-wrap {
  grid-column: 1 / -1;
  display: grid;
  grid-template-columns: 20px auto;
}

.xr-array-wrap > label {
  grid-column: 1;
  vertical-align: top;
}

.xr-preview {
  color: var(--xr-font-color3);
}

.xr-array-preview,
.xr-array-data {
  padding: 0 5px !important;
  grid-column: 2;
}

.xr-array-data,
.xr-array-in:checked ~ .xr-array-preview {
  display: none;
}

.xr-array-in:checked ~ .xr-array-data,
.xr-array-preview {
  display: inline-block;
}

.xr-dim-list {
  display: inline-block !important;
  list-style: none;
  padding: 0 !important;
  margin: 0;
}

.xr-dim-list li {
  display: inline-block;
  padding: 0;
  margin: 0;
}

.xr-dim-list:before {
  content: '(';
}

.xr-dim-list:after {
  content: ')';
}

.xr-dim-list li:not(:last-child):after {
  content: ',';
  padding-right: 5px;
}

.xr-has-index {
  font-weight: bold;
}

.xr-var-list,
.xr-var-item {
  display: contents;
}

.xr-var-item > div,
.xr-var-item label,
.xr-var-item > .xr-var-name span {
  background-color: var(--xr-background-color-row-even);
  margin-bottom: 0;
}

.xr-var-item > .xr-var-name:hover span {
  padding-right: 5px;
}

.xr-var-list > li:nth-child(odd) > div,
.xr-var-list > li:nth-child(odd) > label,
.xr-var-list > li:nth-child(odd) > .xr-var-name span {
  background-color: var(--xr-background-color-row-odd);
}

.xr-var-name {
  grid-column: 1;
}

.xr-var-dims {
  grid-column: 2;
}

.xr-var-dtype {
  grid-column: 3;
  text-align: right;
  color: var(--xr-font-color2);
}

.xr-var-preview {
  grid-column: 4;
}

.xr-index-preview {
  grid-column: 2 / 5;
  color: var(--xr-font-color2);
}

.xr-var-name,
.xr-var-dims,
.xr-var-dtype,
.xr-preview,
.xr-attrs dt {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  padding-right: 10px;
}

.xr-var-name:hover,
.xr-var-dims:hover,
.xr-var-dtype:hover,
.xr-attrs dt:hover {
  overflow: visible;
  width: auto;
  z-index: 1;
}

.xr-var-attrs,
.xr-var-data,
.xr-index-data {
  display: none;
  background-color: var(--xr-background-color) !important;
  padding-bottom: 5px !important;
}

.xr-var-attrs-in:checked ~ .xr-var-attrs,
.xr-var-data-in:checked ~ .xr-var-data,
.xr-index-data-in:checked ~ .xr-index-data {
  display: block;
}

.xr-var-data > table {
  float: right;
}

.xr-var-name span,
.xr-var-data,
.xr-index-name div,
.xr-index-data,
.xr-attrs {
  padding-left: 25px !important;
}

.xr-attrs,
.xr-var-attrs,
.xr-var-data,
.xr-index-data {
  grid-column: 1 / -1;
}

dl.xr-attrs {
  padding: 0;
  margin: 0;
  display: grid;
  grid-template-columns: 125px auto;
}

.xr-attrs dt,
.xr-attrs dd {
  padding: 0;
  margin: 0;
  float: left;
  padding-right: 10px;
  width: auto;
}

.xr-attrs dt {
  font-weight: normal;
  grid-column: 1;
}

.xr-attrs dt:hover span {
  display: inline-block;
  background: var(--xr-background-color);
  padding-right: 10px;
}

.xr-attrs dd {
  grid-column: 2;
  white-space: pre-wrap;
  word-break: break-all;
}

.xr-icon-database,
.xr-icon-file-text2,
.xr-no-icon {
  display: inline-block;
  vertical-align: middle;
  width: 1em;
  height: 1.5em !important;
  stroke-width: 0;
  stroke: currentColor;
  fill: currentColor;
}
</style><pre class='xr-text-repr-fallback'>&lt;xarray.Dataset&gt; Size: 16MB
Dimensions:                  (time: 5, dim_0: 3, dim_1: 1024, dim_2: 1024)
Coordinates:
  * time                     (time) float64 40B 1.718e+09 ... 1.718e+09
Dimensions without coordinates: dim_0, dim_1, dim_2
Data variables:
    simdet_image             (time, dim_0, dim_1, dim_2) uint8 16MB 10 13 ... 7
    simdet_stats1_unique_id  (time) int64 40B 2423 2426 2429 2432 2435
    simdet_stats1_max_value  (time) float64 40B 166.0 162.0 159.0 162.0 164.0
    simdet_stats1_total      (time) float64 40B 1.185e+07 ... 1.172e+07
    m1                       (time) float64 40B -1.0 -0.5 0.0 0.5 1.0
    m1_user_setpoint         (time) float64 40B -1.0 -0.5 0.0 0.5 1.0
    m2                       (time) float64 40B 4.0 3.375 2.75 2.125 1.5
    m2_user_setpoint         (time) float64 40B 4.0 3.375 2.75 2.125 1.5</pre><div class='xr-wrap' style='display:none'><div class='xr-header'><div class='xr-obj-type'>xarray.Dataset</div></div><ul class='xr-sections'><li class='xr-section-item'><input id='section-732da4b6-9c9c-483d-92b8-c677512bfd31' class='xr-section-summary-in' type='checkbox' disabled ><label for='section-732da4b6-9c9c-483d-92b8-c677512bfd31' class='xr-section-summary'  title='Expand/collapse section'>Dimensions:</label><div class='xr-section-inline-details'><ul class='xr-dim-list'><li><span class='xr-has-index'>time</span>: 5</li><li><span>dim_0</span>: 3</li><li><span>dim_1</span>: 1024</li><li><span>dim_2</span>: 1024</li></ul></div><div class='xr-section-details'></div></li><li class='xr-section-item'><input id='section-778f3baa-766f-4385-9685-7adcb8f8c024' class='xr-section-summary-in' type='checkbox'  checked><label for='section-778f3baa-766f-4385-9685-7adcb8f8c024' class='xr-section-summary' >Coordinates: <span>(1)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>time</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>1.718e+09 1.718e+09 ... 1.718e+09</div><input id='attrs-c141be48-411a-4b01-b757-597b55eed7ae' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-c141be48-411a-4b01-b757-597b55eed7ae' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-c5fefa98-b21b-4d64-97de-d54105357574' class='xr-var-data-in' type='checkbox'><label for='data-c5fefa98-b21b-4d64-97de-d54105357574' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([1.718387e+09, 1.718387e+09, 1.718387e+09, 1.718387e+09, 1.718387e+09])</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-efbfcef6-7771-44ae-90cf-49b267febbf0' class='xr-section-summary-in' type='checkbox'  checked><label for='section-efbfcef6-7771-44ae-90cf-49b267febbf0' class='xr-section-summary' >Data variables: <span>(8)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span>simdet_image</span></div><div class='xr-var-dims'>(time, dim_0, dim_1, dim_2)</div><div class='xr-var-dtype'>uint8</div><div class='xr-var-preview xr-preview'>10 13 14 7 6 8 10 ... 7 10 13 5 8 7</div><input id='attrs-347f7782-3e9a-4511-861e-a03e45b040d0' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-347f7782-3e9a-4511-861e-a03e45b040d0' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-9ad2e9bf-bda4-4454-9ced-65799185d0da' class='xr-var-data-in' type='checkbox'><label for='data-9ad2e9bf-bda4-4454-9ced-65799185d0da' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>object :</span></dt><dd>simdet</dd></dl></div><div class='xr-var-data'><pre>array([[[[10, 13, 14, ..., 12,  6,  9],
         [13,  9, 12, ..., 12,  8,  6],
         [ 7, 10, 10, ...,  8, 11, 12],
         ...,
         [ 7, 10,  8, ..., 11, 13,  5],
         [14,  9,  5, ..., 10, 14, 12],
         [ 5,  9, 10, ...,  9, 13,  6]],

        [[14,  9, 11, ..., 10, 11,  6],
         [13,  6,  5, ...,  7, 14, 10],
         [ 8,  7, 10, ...,  5, 11, 10],
         ...,
         [ 6, 12, 10, ..., 10,  5,  9],
         [11,  9, 10, ..., 14, 14, 12],
         [ 7,  7,  7, ..., 11,  7,  9]],

        [[12,  5,  6, ...,  7, 11, 11],
         [10, 14,  5, ...,  9, 11,  8],
         [ 9,  9,  6, ...,  9, 11,  8],
         ...,
...
         ...,
         [12,  7, 10, ...,  5,  7,  8],
         [13, 12, 13, ..., 13, 14,  8],
         [11, 12,  7, ...,  9,  8, 12]],

        [[13, 11,  8, ..., 11, 13,  6],
         [12, 13,  9, ...,  8,  5, 10],
         [10,  9, 11, ...,  5, 11,  9],
         ...,
         [ 9,  7, 12, ...,  7, 13, 11],
         [12, 10, 13, ..., 10, 11, 13],
         [12, 13, 11, ..., 10, 10,  6]],

        [[10,  7,  8, ...,  6, 14,  8],
         [ 8,  8, 13, ..., 14,  8,  8],
         [ 9,  7, 10, ...,  5, 12, 13],
         ...,
         [ 7,  6, 10, ..., 13, 10, 11],
         [11, 11, 12, ..., 10,  9,  6],
         [12,  7, 14, ...,  5,  8,  7]]]], dtype=uint8)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>simdet_stats1_unique_id</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>int64</div><div class='xr-var-preview xr-preview'>2423 2426 2429 2432 2435</div><input id='attrs-0b5657d7-c247-4ec4-bafb-ab8b6415762b' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-0b5657d7-c247-4ec4-bafb-ab8b6415762b' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-a00e0dc5-357e-4289-a575-71131b719cd5' class='xr-var-data-in' type='checkbox'><label for='data-a00e0dc5-357e-4289-a575-71131b719cd5' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>object :</span></dt><dd>simdet</dd></dl></div><div class='xr-var-data'><pre>array([2423, 2426, 2429, 2432, 2435])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>simdet_stats1_max_value</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>166.0 162.0 159.0 162.0 164.0</div><input id='attrs-a49c3701-f324-4bde-bee3-68d7a3605139' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-a49c3701-f324-4bde-bee3-68d7a3605139' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-66eebf5e-e9f4-4f8d-8fea-2021873eec51' class='xr-var-data-in' type='checkbox'><label for='data-66eebf5e-e9f4-4f8d-8fea-2021873eec51' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>object :</span></dt><dd>simdet</dd></dl></div><div class='xr-var-data'><pre>array([166., 162., 159., 162., 164.])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>simdet_stats1_total</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>1.185e+07 1.154e+07 ... 1.172e+07</div><input id='attrs-153ed451-2795-4f6d-ab08-86b20f7396a4' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-153ed451-2795-4f6d-ab08-86b20f7396a4' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-a1af697c-abd2-4dcb-b02c-23cf31998da5' class='xr-var-data-in' type='checkbox'><label for='data-a1af697c-abd2-4dcb-b02c-23cf31998da5' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>object :</span></dt><dd>simdet</dd></dl></div><div class='xr-var-data'><pre>array([11853218., 11536919., 11340043., 11535990., 11720835.])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>m1</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>-1.0 -0.5 0.0 0.5 1.0</div><input id='attrs-73041702-fc55-4954-9a61-3bb69a473580' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-73041702-fc55-4954-9a61-3bb69a473580' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-0ac96805-6127-4732-9389-392b61e5faa0' class='xr-var-data-in' type='checkbox'><label for='data-0ac96805-6127-4732-9389-392b61e5faa0' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>object :</span></dt><dd>m1</dd></dl></div><div class='xr-var-data'><pre>array([-1. , -0.5,  0. ,  0.5,  1. ])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>m1_user_setpoint</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>-1.0 -0.5 0.0 0.5 1.0</div><input id='attrs-18df33eb-5661-4026-b06d-4953559977c0' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-18df33eb-5661-4026-b06d-4953559977c0' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-e66c742b-1017-4f15-b43f-5cd444acba93' class='xr-var-data-in' type='checkbox'><label for='data-e66c742b-1017-4f15-b43f-5cd444acba93' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>object :</span></dt><dd>m1</dd></dl></div><div class='xr-var-data'><pre>array([-1. , -0.5,  0. ,  0.5,  1. ])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>m2</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>4.0 3.375 2.75 2.125 1.5</div><input id='attrs-1869ec9b-f903-4cf8-8906-e53e3cdbdc58' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-1869ec9b-f903-4cf8-8906-e53e3cdbdc58' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-d31d00ad-9b1f-44c7-b475-d75bee5e13eb' class='xr-var-data-in' type='checkbox'><label for='data-d31d00ad-9b1f-44c7-b475-d75bee5e13eb' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>object :</span></dt><dd>m2</dd></dl></div><div class='xr-var-data'><pre>array([4.   , 3.375, 2.75 , 2.125, 1.5  ])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>m2_user_setpoint</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>4.0 3.375 2.75 2.125 1.5</div><input id='attrs-1345d3c1-e4fc-47f6-a800-7c824fc49976' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-1345d3c1-e4fc-47f6-a800-7c824fc49976' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-be0fb278-e123-4f59-8e26-12a7a687bd53' class='xr-var-data-in' type='checkbox'><label for='data-be0fb278-e123-4f59-8e26-12a7a687bd53' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>object :</span></dt><dd>m2</dd></dl></div><div class='xr-var-data'><pre>array([4.   , 3.375, 2.75 , 2.125, 1.5  ])</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-8d456e33-bf3c-4bbc-970d-7011480f1864' class='xr-section-summary-in' type='checkbox'  ><label for='section-8d456e33-bf3c-4bbc-970d-7011480f1864' class='xr-section-summary' >Indexes: <span>(1)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-index-name'><div>time</div></div><div class='xr-index-preview'>PandasIndex</div><div></div><input id='index-b3237483-9da1-4f90-bca8-477d883379cc' class='xr-index-data-in' type='checkbox'/><label for='index-b3237483-9da1-4f90-bca8-477d883379cc' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Index([1718387442.4793131, 1718387443.3314476, 1718387444.2360172,
       1718387445.1361053, 1718387446.0176258],
      dtype=&#x27;float64&#x27;, name=&#x27;time&#x27;))</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-df32ad69-1b5e-4c26-ad55-e01df091d0e0' class='xr-section-summary-in' type='checkbox' disabled ><label for='section-df32ad69-1b5e-4c26-ad55-e01df091d0e0' class='xr-section-summary'  title='Expand/collapse section'>Attributes: <span>(0)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><dl class='xr-attrs'></dl></div></li></ul></div></div></div>
</div>
<p>The second motor of the <code class="docutils literal notranslate"><span class="pre">scan</span></code> (<code class="docutils literal notranslate"><span class="pre">m2</span></code>) is moved at the same time as the first motor (<code class="docutils literal notranslate"><span class="pre">m1</span></code>). Here’s a plot of readback of each motor from a two-motor <code class="docutils literal notranslate"><span class="pre">scan</span></code> plotted <em>v</em>. data point number:</p>
<p><img alt="grid_scan motors v point number" src="../_images/scan_two_motors.png" /></p>
</section>
<section id="The-(2-D)-bp.grid_scan()-(mesh)-plan">
<h2>The (2-D) <code class="docutils literal notranslate"><span class="pre">bp.grid_scan()</span></code> (mesh) plan<a class="headerlink" href="#The-(2-D)-bp.grid_scan()-(mesh)-plan" title="Permalink to this heading">#</a></h2>
<p>Step scan two motors (m1 &amp; m2) and measure images at each step, as before. Also record total counts and the maximum counts value for each step.</p>
<p>For clarity, the <code class="docutils literal notranslate"><span class="pre">grid_scan</span></code> arguments are split into multiple lines.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[20]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">uids</span> <span class="o">=</span> <span class="n">RE</span><span class="p">(</span>
    <span class="n">bp</span><span class="o">.</span><span class="n">grid_scan</span><span class="p">(</span>
        <span class="p">[</span><span class="n">simdet</span><span class="p">],</span>
        <span class="n">m1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span>
        <span class="n">m2</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span>
        <span class="n">snake_axes</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span>
<span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;uids=!r&quot;</span><span class="p">)</span>
<span class="n">dataset</span> <span class="o">=</span> <span class="n">cat</span><span class="p">[</span><span class="n">uids</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]]</span><span class="o">.</span><span class="n">primary</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<span class="n">image_data</span> <span class="o">=</span> <span class="n">dataset</span><span class="p">[</span><span class="s2">&quot;simdet_image&quot;</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">image_data</span><span class="o">.</span><span class="n">shape</span><span class="si">=!r}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="n">dataset</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>


Transient Scan ID: 81     Time: 2024-06-14 12:50:46
Persistent Unique Scan ID: &#39;4c60ebae-32d4-4de8-8ac9-619066a4152b&#39;
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
device=MyEpicsMotor(prefix=&#39;gp:m2&#39;, name=&#39;m2&#39;, settle_time=0.0, timeout=None, read_attrs=[&#39;user_readback&#39;, &#39;user_setpoint&#39;], configuration_attrs=[&#39;user_offset&#39;, &#39;user_offset_dir&#39;, &#39;velocity&#39;, &#39;acceleration&#39;, &#39;motor_egu&#39;]), exception=Data keys (field names) from MyEpicsMotor(prefix=&#39;gp:m2&#39;, name=&#39;m2&#39;, settle_time=0.0, timeout=None, read_attrs=[&#39;user_readback&#39;, &#39;user_setpoint&#39;], configuration_attrs=[&#39;user_offset&#39;, &#39;user_offset_dir&#39;, &#39;velocity&#39;, &#39;acceleration&#39;, &#39;motor_egu&#39;]) collide with those from MyEpicsMotor(prefix=&#39;gp:m2&#39;, name=&#39;m2&#39;, settle_time=0.0, timeout=None, read_attrs=[&#39;user_readback&#39;, &#39;user_setpoint&#39;], configuration_attrs=[&#39;user_offset&#39;, &#39;user_offset_dir&#39;, &#39;velocity&#39;, &#39;acceleration&#39;, &#39;motor_egu&#39;]). The colliding keys are {&#39;m2_user_setpoint&#39;, &#39;m2&#39;}
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
New stream: &#39;label_start_motor&#39;
New stream: &#39;primary&#39;
+-----------+------------+------------+------------+-------------------------+-------------------------+---------------------+
|   seq_num |       time |         m1 |         m2 | simdet_stats1_unique_id | simdet_stats1_max_value | simdet_stats1_total |
+-----------+------------+------------+------------+-------------------------+-------------------------+---------------------+
|         1 | 12:50:49.3 |    -1.0000 |    -0.5000 |                    2438 |                     161 |            11486064 |
|         2 | 12:50:49.9 |    -1.0000 |    -0.1667 |                    2441 |                     160 |            11444447 |
|         3 | 12:50:50.5 |    -1.0000 |     0.1667 |                    2444 |                     166 |            11831610 |
|         4 | 12:50:51.1 |    -1.0000 |     0.5000 |                    2447 |                     159 |            11368245 |
|         5 | 12:50:51.9 |    -0.5000 |     0.5000 |                    2450 |                     160 |            11455275 |
|         6 | 12:50:52.5 |    -0.5000 |     0.1667 |                    2453 |                     165 |            11673710 |
|         7 | 12:50:53.1 |    -0.5000 |    -0.1667 |                    2456 |                     161 |            11462970 |
|         8 | 12:50:53.7 |    -0.5000 |    -0.5000 |                    2459 |                     160 |            11420602 |
|         9 | 12:50:54.5 |     0.0000 |    -0.5000 |                    2462 |                     166 |            11833606 |
|        10 | 12:50:55.1 |     0.0000 |    -0.1667 |                    2465 |                     162 |            11535871 |
|        11 | 12:50:55.7 |     0.0000 |     0.1667 |                    2468 |                     161 |            11506842 |
|        12 | 12:50:56.3 |     0.0000 |     0.5000 |                    2471 |                     163 |            11658515 |
|        13 | 12:50:57.1 |     0.5000 |     0.5000 |                    2474 |                     161 |            11523895 |
|        14 | 12:50:57.7 |     0.5000 |     0.1667 |                    2477 |                     159 |            11383551 |
|        15 | 12:50:58.3 |     0.5000 |    -0.1667 |                    2480 |                     162 |            11534936 |
|        16 | 12:50:58.9 |     0.5000 |    -0.5000 |                    2483 |                     164 |            11714401 |
|        17 | 12:50:59.7 |     1.0000 |    -0.5000 |                    2486 |                     159 |            11357714 |
|        18 | 12:51:00.3 |     1.0000 |    -0.1667 |                    2489 |                     164 |            11720644 |
|        19 | 12:51:00.9 |     1.0000 |     0.1667 |                    2492 |                     166 |            11812730 |
|        20 | 12:51:01.5 |     1.0000 |     0.5000 |                    2495 |                     163 |            11657465 |
+-----------+------------+------------+------------+-------------------------+-------------------------+---------------------+
generator grid_scan [&#39;4c60ebae&#39;] (scan num: 81)
uids=!r
image_data.shape=(20, 3, 1024, 1024)
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[20]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div><svg style="position: absolute; width: 0; height: 0; overflow: hidden">
<defs>
<symbol id="icon-database" viewBox="0 0 32 32">
<path d="M16 0c-8.837 0-16 2.239-16 5v4c0 2.761 7.163 5 16 5s16-2.239 16-5v-4c0-2.761-7.163-5-16-5z"></path>
<path d="M16 17c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
<path d="M16 26c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
</symbol>
<symbol id="icon-file-text2" viewBox="0 0 32 32">
<path d="M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z"></path>
<path d="M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
</symbol>
</defs>
</svg>
<style>/* CSS stylesheet for displaying xarray objects in jupyterlab.
 *
 */

:root {
  --xr-font-color0: var(--jp-content-font-color0, rgba(0, 0, 0, 1));
  --xr-font-color2: var(--jp-content-font-color2, rgba(0, 0, 0, 0.54));
  --xr-font-color3: var(--jp-content-font-color3, rgba(0, 0, 0, 0.38));
  --xr-border-color: var(--jp-border-color2, #e0e0e0);
  --xr-disabled-color: var(--jp-layout-color3, #bdbdbd);
  --xr-background-color: var(--jp-layout-color0, white);
  --xr-background-color-row-even: var(--jp-layout-color1, white);
  --xr-background-color-row-odd: var(--jp-layout-color2, #eeeeee);
}

html[theme=dark],
body[data-theme=dark],
body.vscode-dark {
  --xr-font-color0: rgba(255, 255, 255, 1);
  --xr-font-color2: rgba(255, 255, 255, 0.54);
  --xr-font-color3: rgba(255, 255, 255, 0.38);
  --xr-border-color: #1F1F1F;
  --xr-disabled-color: #515151;
  --xr-background-color: #111111;
  --xr-background-color-row-even: #111111;
  --xr-background-color-row-odd: #313131;
}

.xr-wrap {
  display: block !important;
  min-width: 300px;
  max-width: 700px;
}

.xr-text-repr-fallback {
  /* fallback to plain text repr when CSS is not injected (untrusted notebook) */
  display: none;
}

.xr-header {
  padding-top: 6px;
  padding-bottom: 6px;
  margin-bottom: 4px;
  border-bottom: solid 1px var(--xr-border-color);
}

.xr-header > div,
.xr-header > ul {
  display: inline;
  margin-top: 0;
  margin-bottom: 0;
}

.xr-obj-type,
.xr-array-name {
  margin-left: 2px;
  margin-right: 10px;
}

.xr-obj-type {
  color: var(--xr-font-color2);
}

.xr-sections {
  padding-left: 0 !important;
  display: grid;
  grid-template-columns: 150px auto auto 1fr 20px 20px;
}

.xr-section-item {
  display: contents;
}

.xr-section-item input {
  display: none;
}

.xr-section-item input + label {
  color: var(--xr-disabled-color);
}

.xr-section-item input:enabled + label {
  cursor: pointer;
  color: var(--xr-font-color2);
}

.xr-section-item input:enabled + label:hover {
  color: var(--xr-font-color0);
}

.xr-section-summary {
  grid-column: 1;
  color: var(--xr-font-color2);
  font-weight: 500;
}

.xr-section-summary > span {
  display: inline-block;
  padding-left: 0.5em;
}

.xr-section-summary-in:disabled + label {
  color: var(--xr-font-color2);
}

.xr-section-summary-in + label:before {
  display: inline-block;
  content: '►';
  font-size: 11px;
  width: 15px;
  text-align: center;
}

.xr-section-summary-in:disabled + label:before {
  color: var(--xr-disabled-color);
}

.xr-section-summary-in:checked + label:before {
  content: '▼';
}

.xr-section-summary-in:checked + label > span {
  display: none;
}

.xr-section-summary,
.xr-section-inline-details {
  padding-top: 4px;
  padding-bottom: 4px;
}

.xr-section-inline-details {
  grid-column: 2 / -1;
}

.xr-section-details {
  display: none;
  grid-column: 1 / -1;
  margin-bottom: 5px;
}

.xr-section-summary-in:checked ~ .xr-section-details {
  display: contents;
}

.xr-array-wrap {
  grid-column: 1 / -1;
  display: grid;
  grid-template-columns: 20px auto;
}

.xr-array-wrap > label {
  grid-column: 1;
  vertical-align: top;
}

.xr-preview {
  color: var(--xr-font-color3);
}

.xr-array-preview,
.xr-array-data {
  padding: 0 5px !important;
  grid-column: 2;
}

.xr-array-data,
.xr-array-in:checked ~ .xr-array-preview {
  display: none;
}

.xr-array-in:checked ~ .xr-array-data,
.xr-array-preview {
  display: inline-block;
}

.xr-dim-list {
  display: inline-block !important;
  list-style: none;
  padding: 0 !important;
  margin: 0;
}

.xr-dim-list li {
  display: inline-block;
  padding: 0;
  margin: 0;
}

.xr-dim-list:before {
  content: '(';
}

.xr-dim-list:after {
  content: ')';
}

.xr-dim-list li:not(:last-child):after {
  content: ',';
  padding-right: 5px;
}

.xr-has-index {
  font-weight: bold;
}

.xr-var-list,
.xr-var-item {
  display: contents;
}

.xr-var-item > div,
.xr-var-item label,
.xr-var-item > .xr-var-name span {
  background-color: var(--xr-background-color-row-even);
  margin-bottom: 0;
}

.xr-var-item > .xr-var-name:hover span {
  padding-right: 5px;
}

.xr-var-list > li:nth-child(odd) > div,
.xr-var-list > li:nth-child(odd) > label,
.xr-var-list > li:nth-child(odd) > .xr-var-name span {
  background-color: var(--xr-background-color-row-odd);
}

.xr-var-name {
  grid-column: 1;
}

.xr-var-dims {
  grid-column: 2;
}

.xr-var-dtype {
  grid-column: 3;
  text-align: right;
  color: var(--xr-font-color2);
}

.xr-var-preview {
  grid-column: 4;
}

.xr-index-preview {
  grid-column: 2 / 5;
  color: var(--xr-font-color2);
}

.xr-var-name,
.xr-var-dims,
.xr-var-dtype,
.xr-preview,
.xr-attrs dt {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  padding-right: 10px;
}

.xr-var-name:hover,
.xr-var-dims:hover,
.xr-var-dtype:hover,
.xr-attrs dt:hover {
  overflow: visible;
  width: auto;
  z-index: 1;
}

.xr-var-attrs,
.xr-var-data,
.xr-index-data {
  display: none;
  background-color: var(--xr-background-color) !important;
  padding-bottom: 5px !important;
}

.xr-var-attrs-in:checked ~ .xr-var-attrs,
.xr-var-data-in:checked ~ .xr-var-data,
.xr-index-data-in:checked ~ .xr-index-data {
  display: block;
}

.xr-var-data > table {
  float: right;
}

.xr-var-name span,
.xr-var-data,
.xr-index-name div,
.xr-index-data,
.xr-attrs {
  padding-left: 25px !important;
}

.xr-attrs,
.xr-var-attrs,
.xr-var-data,
.xr-index-data {
  grid-column: 1 / -1;
}

dl.xr-attrs {
  padding: 0;
  margin: 0;
  display: grid;
  grid-template-columns: 125px auto;
}

.xr-attrs dt,
.xr-attrs dd {
  padding: 0;
  margin: 0;
  float: left;
  padding-right: 10px;
  width: auto;
}

.xr-attrs dt {
  font-weight: normal;
  grid-column: 1;
}

.xr-attrs dt:hover span {
  display: inline-block;
  background: var(--xr-background-color);
  padding-right: 10px;
}

.xr-attrs dd {
  grid-column: 2;
  white-space: pre-wrap;
  word-break: break-all;
}

.xr-icon-database,
.xr-icon-file-text2,
.xr-no-icon {
  display: inline-block;
  vertical-align: middle;
  width: 1em;
  height: 1.5em !important;
  stroke-width: 0;
  stroke: currentColor;
  fill: currentColor;
}
</style><pre class='xr-text-repr-fallback'>&lt;xarray.Dataset&gt; Size: 63MB
Dimensions:                  (time: 20, dim_0: 3, dim_1: 1024, dim_2: 1024)
Coordinates:
  * time                     (time) float64 160B 1.718e+09 ... 1.718e+09
Dimensions without coordinates: dim_0, dim_1, dim_2
Data variables:
    simdet_image             (time, dim_0, dim_1, dim_2) uint8 63MB 13 5 ... 14
    simdet_stats1_unique_id  (time) int64 160B 2438 2441 2444 ... 2489 2492 2495
    simdet_stats1_max_value  (time) float64 160B 161.0 160.0 ... 166.0 163.0
    simdet_stats1_total      (time) float64 160B 1.149e+07 ... 1.166e+07
    m1                       (time) float64 160B -1.0 -1.0 -1.0 ... 1.0 1.0 1.0
    m1_user_setpoint         (time) float64 160B -1.0 -1.0 -1.0 ... 1.0 1.0 1.0
    m2                       (time) float64 160B -0.5 -0.1667 ... 0.1667 0.5
    m2_user_setpoint         (time) float64 160B -0.5 -0.1667 ... 0.1667 0.5</pre><div class='xr-wrap' style='display:none'><div class='xr-header'><div class='xr-obj-type'>xarray.Dataset</div></div><ul class='xr-sections'><li class='xr-section-item'><input id='section-043630fd-eca2-44d7-9562-7baf1a482b84' class='xr-section-summary-in' type='checkbox' disabled ><label for='section-043630fd-eca2-44d7-9562-7baf1a482b84' class='xr-section-summary'  title='Expand/collapse section'>Dimensions:</label><div class='xr-section-inline-details'><ul class='xr-dim-list'><li><span class='xr-has-index'>time</span>: 20</li><li><span>dim_0</span>: 3</li><li><span>dim_1</span>: 1024</li><li><span>dim_2</span>: 1024</li></ul></div><div class='xr-section-details'></div></li><li class='xr-section-item'><input id='section-dd3c0f53-7263-478d-bf41-a3ee526a7ad2' class='xr-section-summary-in' type='checkbox'  checked><label for='section-dd3c0f53-7263-478d-bf41-a3ee526a7ad2' class='xr-section-summary' >Coordinates: <span>(1)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>time</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>1.718e+09 1.718e+09 ... 1.718e+09</div><input id='attrs-80a62357-0f5f-43fe-b943-81279b6ffb86' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-80a62357-0f5f-43fe-b943-81279b6ffb86' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-9d936875-7fa9-4fba-94b4-da4331fa0c3a' class='xr-var-data-in' type='checkbox'><label for='data-9d936875-7fa9-4fba-94b4-da4331fa0c3a' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([1.718387e+09, 1.718387e+09, 1.718387e+09, 1.718387e+09, 1.718387e+09,
       1.718387e+09, 1.718387e+09, 1.718387e+09, 1.718387e+09, 1.718387e+09,
       1.718387e+09, 1.718387e+09, 1.718387e+09, 1.718387e+09, 1.718387e+09,
       1.718387e+09, 1.718387e+09, 1.718387e+09, 1.718387e+09, 1.718387e+09])</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-66699c31-3871-4277-ab28-ce72ec38b975' class='xr-section-summary-in' type='checkbox'  checked><label for='section-66699c31-3871-4277-ab28-ce72ec38b975' class='xr-section-summary' >Data variables: <span>(8)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span>simdet_image</span></div><div class='xr-var-dims'>(time, dim_0, dim_1, dim_2)</div><div class='xr-var-dtype'>uint8</div><div class='xr-var-preview xr-preview'>13 5 14 13 9 8 ... 5 12 10 10 10 14</div><input id='attrs-d3f32cf5-e77c-4667-b841-fda8209764e9' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-d3f32cf5-e77c-4667-b841-fda8209764e9' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-e85e3fc8-eb35-48f6-aa55-496494b6d467' class='xr-var-data-in' type='checkbox'><label for='data-e85e3fc8-eb35-48f6-aa55-496494b6d467' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>object :</span></dt><dd>simdet</dd></dl></div><div class='xr-var-data'><pre>array([[[[13,  5, 14, ..., 12, 12,  5],
         [13, 12, 13, ...,  7, 10, 12],
         [14, 11, 10, ..., 10, 12, 12],
         ...,
         [ 9, 13,  8, ...,  6, 10, 11],
         [ 7,  5,  6, ..., 14, 13,  9],
         [10, 13,  7, ..., 14, 12,  5]],

        [[ 9, 11, 11, ..., 11,  9, 10],
         [10, 10,  8, ...,  7,  9, 13],
         [13, 11, 13, ..., 11, 10, 14],
         ...,
         [ 7,  9, 13, ..., 12,  8, 10],
         [ 5,  6, 10, ...,  5,  9,  7],
         [ 5, 11,  5, ..., 13,  9, 14]],

        [[13, 13,  9, ...,  9, 12, 12],
         [ 9,  6,  6, ...,  9,  8, 10],
         [ 9, 12,  8, ..., 10, 12,  7],
         ...,
...
         ...,
         [ 5,  7,  8, ..., 12, 13, 10],
         [ 5, 13, 14, ..., 11,  7,  6],
         [ 9,  6,  7, ..., 13,  8,  6]],

        [[ 6, 10, 12, ..., 14,  7,  8],
         [ 8,  9, 12, ..., 14, 12,  5],
         [ 5, 13, 13, ..., 12, 13,  9],
         ...,
         [10,  6,  9, ..., 13, 12,  7],
         [ 7, 10, 13, ...,  9, 14,  5],
         [10, 14,  9, ..., 13,  8,  8]],

        [[ 7,  6, 13, ...,  6,  5,  6],
         [13, 10, 14, ..., 11,  8,  5],
         [ 6,  7,  7, ...,  5, 11,  5],
         ...,
         [13,  5, 14, ..., 13,  7, 13],
         [ 6, 14,  8, ...,  9, 12,  6],
         [13,  7,  7, ..., 10, 10, 14]]]], dtype=uint8)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>simdet_stats1_unique_id</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>int64</div><div class='xr-var-preview xr-preview'>2438 2441 2444 ... 2489 2492 2495</div><input id='attrs-746df1fb-ee36-432e-8f18-651f5d4b157c' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-746df1fb-ee36-432e-8f18-651f5d4b157c' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-b50e4f4f-28f7-4b65-afda-96e20191c2bd' class='xr-var-data-in' type='checkbox'><label for='data-b50e4f4f-28f7-4b65-afda-96e20191c2bd' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>object :</span></dt><dd>simdet</dd></dl></div><div class='xr-var-data'><pre>array([2438, 2441, 2444, 2447, 2450, 2453, 2456, 2459, 2462, 2465, 2468,
       2471, 2474, 2477, 2480, 2483, 2486, 2489, 2492, 2495])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>simdet_stats1_max_value</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>161.0 160.0 166.0 ... 166.0 163.0</div><input id='attrs-e95b27a4-0de3-4b70-9412-fa1c8eb14b35' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-e95b27a4-0de3-4b70-9412-fa1c8eb14b35' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-3c9470c6-4388-42b6-9cc3-aebadea2df29' class='xr-var-data-in' type='checkbox'><label for='data-3c9470c6-4388-42b6-9cc3-aebadea2df29' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>object :</span></dt><dd>simdet</dd></dl></div><div class='xr-var-data'><pre>array([161., 160., 166., 159., 160., 165., 161., 160., 166., 162., 161.,
       163., 161., 159., 162., 164., 159., 164., 166., 163.])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>simdet_stats1_total</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>1.149e+07 1.144e+07 ... 1.166e+07</div><input id='attrs-50f759c5-e8a7-405d-a546-abb01eed14f3' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-50f759c5-e8a7-405d-a546-abb01eed14f3' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-8827723f-d005-4004-8170-db36b8b1c2fa' class='xr-var-data-in' type='checkbox'><label for='data-8827723f-d005-4004-8170-db36b8b1c2fa' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>object :</span></dt><dd>simdet</dd></dl></div><div class='xr-var-data'><pre>array([11486064., 11444447., 11831610., 11368245., 11455275., 11673710.,
       11462970., 11420602., 11833606., 11535871., 11506842., 11658515.,
       11523895., 11383551., 11534936., 11714401., 11357714., 11720644.,
       11812730., 11657465.])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>m1</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>-1.0 -1.0 -1.0 -1.0 ... 1.0 1.0 1.0</div><input id='attrs-a7fd185c-8020-409c-b2c3-a774b46531f0' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-a7fd185c-8020-409c-b2c3-a774b46531f0' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-87766a7a-065c-49f7-9073-2ce5733cf85d' class='xr-var-data-in' type='checkbox'><label for='data-87766a7a-065c-49f7-9073-2ce5733cf85d' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>object :</span></dt><dd>m1</dd></dl></div><div class='xr-var-data'><pre>array([-1. , -1. , -1. , -1. , -0.5, -0.5, -0.5, -0.5,  0. ,  0. ,  0. ,
        0. ,  0.5,  0.5,  0.5,  0.5,  1. ,  1. ,  1. ,  1. ])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>m1_user_setpoint</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>-1.0 -1.0 -1.0 -1.0 ... 1.0 1.0 1.0</div><input id='attrs-2cf05e89-41f6-4cad-9d83-f244d100ddca' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-2cf05e89-41f6-4cad-9d83-f244d100ddca' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-c13547f1-1008-41ce-a45a-1e56a1eb9aac' class='xr-var-data-in' type='checkbox'><label for='data-c13547f1-1008-41ce-a45a-1e56a1eb9aac' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>object :</span></dt><dd>m1</dd></dl></div><div class='xr-var-data'><pre>array([-1. , -1. , -1. , -1. , -0.5, -0.5, -0.5, -0.5,  0. ,  0. ,  0. ,
        0. ,  0.5,  0.5,  0.5,  0.5,  1. ,  1. ,  1. ,  1. ])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>m2</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>-0.5 -0.1667 0.1667 ... 0.1667 0.5</div><input id='attrs-c5dd2b5e-10ef-4e77-af4f-cc533872037f' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-c5dd2b5e-10ef-4e77-af4f-cc533872037f' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-ab0aff4e-cc96-413f-a55e-f306a75516f7' class='xr-var-data-in' type='checkbox'><label for='data-ab0aff4e-cc96-413f-a55e-f306a75516f7' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>object :</span></dt><dd>m2</dd></dl></div><div class='xr-var-data'><pre>array([-0.5   , -0.1667,  0.1667,  0.5   ,  0.5   ,  0.1667, -0.1667,
       -0.5   , -0.5   , -0.1667,  0.1667,  0.5   ,  0.5   ,  0.1667,
       -0.1667, -0.5   , -0.5   , -0.1667,  0.1667,  0.5   ])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>m2_user_setpoint</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>-0.5 -0.1667 0.1667 ... 0.1667 0.5</div><input id='attrs-86a426f6-ce19-401d-8fa6-de7760b7aba6' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-86a426f6-ce19-401d-8fa6-de7760b7aba6' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-bfd24db0-d131-412d-ba88-5c88e938e395' class='xr-var-data-in' type='checkbox'><label for='data-bfd24db0-d131-412d-ba88-5c88e938e395' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>object :</span></dt><dd>m2</dd></dl></div><div class='xr-var-data'><pre>array([-0.5       , -0.16666667,  0.16666667,  0.5       ,  0.5       ,
        0.16666667, -0.16666667, -0.5       , -0.5       , -0.16666667,
        0.16666667,  0.5       ,  0.5       ,  0.16666667, -0.16666667,
       -0.5       , -0.5       , -0.16666667,  0.16666667,  0.5       ])</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-fd135b88-8271-4d09-8e58-3c382552bd80' class='xr-section-summary-in' type='checkbox'  ><label for='section-fd135b88-8271-4d09-8e58-3c382552bd80' class='xr-section-summary' >Indexes: <span>(1)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-index-name'><div>time</div></div><div class='xr-index-preview'>PandasIndex</div><div></div><input id='index-b1b72de9-04d1-444a-8608-a7d3fdae101f' class='xr-index-data-in' type='checkbox'/><label for='index-b1b72de9-04d1-444a-8608-a7d3fdae101f' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Index([ 1718387449.318526, 1718387449.9497058, 1718387450.5496178,
         1718387451.15375, 1718387451.9574215,  1718387452.554871,
        1718387453.141101, 1718387453.7547138,  1718387454.563107,
        1718387455.163843, 1718387455.7646751, 1718387456.3657863,
       1718387457.1526854, 1718387457.7488227, 1718387458.3524206,
       1718387458.9500613, 1718387459.7597532, 1718387460.3511226,
       1718387460.9727814,  1718387461.575983],
      dtype=&#x27;float64&#x27;, name=&#x27;time&#x27;))</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-e3882b56-17ad-4313-bd49-8658339a1b05' class='xr-section-summary-in' type='checkbox' disabled ><label for='section-e3882b56-17ad-4313-bd49-8658339a1b05' class='xr-section-summary'  title='Expand/collapse section'>Attributes: <span>(0)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><dl class='xr-attrs'></dl></div></li></ul></div></div></div>
</div>
<p>The second motor of the <code class="docutils literal notranslate"><span class="pre">grid_scan</span></code> (<code class="docutils literal notranslate"><span class="pre">m2</span></code>) is snaked. It’s direction changes with each subsequent increment of the first motor (<code class="docutils literal notranslate"><span class="pre">m1</span></code>). Here’s a plot of readback value of each motor from a <code class="docutils literal notranslate"><span class="pre">grid_scan</span></code> plotted <em>v</em>. data point number:</p>
<p><img alt="grid_scan motors v time-of-day" src="../_images/grid_scan_snake.png" /></p>
</section>
<section id="SPEC-data-file">
<h2>SPEC data file<a class="headerlink" href="#SPEC-data-file" title="Permalink to this heading">#</a></h2>
<p>All along, quietly in the background, the data has been saved both to a catalog and to a SPEC data file. Show the SPEC file. The total counts, max counts, and unique ID from all scans can be plotted from the SPEC file using PyMCA or NeXpy. The image content is not stored in the SPEC file; images cannot be viewed from the SPEC file. However, references to the images are save as comments. See comment lines that match a search for <code class="docutils literal notranslate"><span class="pre">resource</span> <span class="pre">{'spec':</span> <span class="pre">'AD_HDF5'</span></code>, such as this one:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>#C Thu Jun 13 11:36:38 2024.  resource {&#39;spec&#39;: &#39;AD_HDF5&#39;, &#39;root&#39;: &#39;/&#39;, &#39;resource_path&#39;: &#39;mnt/iockad/tmp/d94f633b-12a7-4ff0-92af_000000.h5&#39;, &#39;resource_kwargs&#39;: {&#39;frame_per_point&#39;: 3}, &#39;path_semantics&#39;: &#39;posix&#39;, &#39;uid&#39;: &#39;5328206b-dd13-49f8-b108-17e0d867d470&#39;, &#39;run_start&#39;: &#39;e8c24278-656f-4c79-b3eb-d522310f7649&#39;}
</pre></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[21]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">specwriter</span><span class="o">.</span><span class="n">spec_filename</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
#F /home/prjemian/Documents/projects/BCDA-APS/bluesky_training/docs/source/howto/20240614-125021.dat
#E 1718387421
#D Fri Jun 14 12:50:21 2024
#C Bluesky  user = prjemian  host = arf.jemian.org
#O0 dcm_m_theta  dcm_m_y  dcm_m_z  fourc_chi  fourc_omega  fourc_phi  fourc_tth  m1
#O1 m10  m11  m12  m13  m14  m15  m16  m2
#O2 m3  m4  m7  m8  m9  sixc_chi  sixc_delta  sixc_gamma
#O3 sixc_mu  sixc_omega  sixc_phi
#o0 dcm_m_theta  dcm_m_y  dcm_m_z  fourc_chi  fourc_omega  fourc_phi  fourc_tth  m1
#o1 m10  m11  m12  m13  m14  m15  m16  m2
#o2 m3  m4  m7  m8  m9  sixc_chi  sixc_delta  sixc_gamma
#o3 sixc_mu  sixc_omega  sixc_phi

#S 77  count(detectors=[&#39;simdet_stats1_unique_id&#39;, &#39;simdet_stats1_total&#39;, &#39;simdet_stats1_max_value&#39;], num=5, delay=None)
#D Fri Jun 14 12:50:23 2024
#C Fri Jun 14 12:50:23 2024.  plan_type = generator
#C Fri Jun 14 12:50:23 2024.  uid = 7900d4fe-d126-4b0a-8314-f278510cb826
#MD uid = 7900d4fe-d126-4b0a-8314-f278510cb826
#MD beamline_id = Bluesky_training
#MD conda_prefix = /home/prjemian/.conda/envs/bluesky_2024_2
#MD databroker_catalog = training
#MD detectors = [&#39;simdet_stats1_unique_id&#39;, &#39;simdet_stats1_total&#39;, &#39;simdet_stats1_max_value&#39;]
#MD iconfig = {&#39;ADSIM_IOC_PREFIX&#39;: &#39;ad:&#39;, &#39;GP_IOC_PREFIX&#39;: &#39;gp:&#39;, &#39;DATABROKER_CATALOG&#39;: &#39;training&#39;, &#39;RUNENGINE_METADATA&#39;: {&#39;beamline_id&#39;: &#39;Bluesky_training&#39;, &#39;instrument_name&#39;: &#39;BCDA EPICS Bluesky training&#39;, &#39;proposal_id&#39;: &#39;training&#39;, &#39;databroker_catalog&#39;: &#39;training&#39;}, &#39;RUN_ENGINE_SCAN_ID_PV&#39;: &#39;gp:gp:int20&#39;, &#39;AD_IMAGE_DIR&#39;: &#39;adsimdet/%Y/%m/%d&#39;, &#39;AD_MOUNT_PATH&#39;: &#39;/tmp&#39;, &#39;BLUESKY_MOUNT_PATH&#39;: &#39;/tmp/docker_ioc/iocad/tmp&#39;, &#39;ALLOW_AREA_DETECTOR_WARMUP&#39;: True, &#39;ENABLE_AREA_DETECTOR_IMAGE_PLUGIN&#39;: True, &#39;ENABLE_CALCS&#39;: True, &#39;USE_PROGRESS_BAR&#39;: False, &#39;WRITE_NEXUS_DATA_FILES&#39;: False, &#39;NEXUS_WARN_MISSING_CONTENT&#39;: False, &#39;NEXUS_FILE_EXTENSION&#39;: &#39;h5&#39;, &#39;WRITE_SPEC_DATA_FILES&#39;: True, &#39;RUNENGINE_MD_PATH&#39;: &#39;/home/prjemian/.config/Bluesky_RunEngine_md&#39;, &#39;LOGGING&#39;: {&#39;NUMBER_OF_PREVIOUS_BACKUPS&#39;: 9}, &#39;PV_READ_TIMEOUT&#39;: 15, &#39;PV_WRITE_TIMEOUT&#39;: 15, &#39;PV_CONNECTION_TIMEOUT&#39;: 15, &#39;XMODE_DEBUG_LEVEL&#39;: &#39;Minimal&#39;, &#39;MINIMUM_PYTHON_VERSION&#39;: [3, 8], &#39;MINIMUM_BLUESKY_VERSION&#39;: [1, 10], &#39;MINIMUM_OPHYD_VERSION&#39;: [1, 7], &#39;MINIMUM_DATABROKER_VERSION&#39;: [1, 2], &#39;ICONFIG_VERSION&#39;: &#39;1.0.1&#39;}
#MD instrument_name = BCDA EPICS Bluesky training
#MD login_id = prjemian@arf.jemian.org
#MD num_intervals = 4
#MD num_points = 5
#MD pid = 45059
#MD proposal_id = training
#MD versions = {&#39;apstools&#39;: &#39;1.6.19&#39;, &#39;bluesky&#39;: &#39;1.13.0a3&#39;, &#39;databroker&#39;: &#39;1.2.5&#39;, &#39;epics&#39;: &#39;3.5.2&#39;, &#39;h5py&#39;: &#39;3.9.0&#39;, &#39;intake&#39;: &#39;0.6.4&#39;, &#39;matplotlib&#39;: &#39;3.8.4&#39;, &#39;numpy&#39;: &#39;1.26.4&#39;, &#39;ophyd&#39;: &#39;1.9.0&#39;, &#39;pyRestTable&#39;: &#39;2020.0.8&#39;, &#39;spec2nexus&#39;: &#39;2021.2.6&#39;}
#P0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 1.0
#P1 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.5
#P2 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0
#P3 0.0 0.0 0.0
#N 5
#L Epoch_float  Epoch  simdet_stats1_unique_id  simdet_stats1_total  simdet_stats1_max_value
0.17225050926208496 0 2390 11383707.0 160.0
0.6040358543395996 1 2390 11383707.0 160.0
1.005565881729126 1 2390 11383707.0 160.0
1.384601354598999 1 2390 11383707.0 160.0
1.7767162322998047 2 2390 11383707.0 160.0
#C Fri Jun 14 12:50:25 2024.  num_events_label_start_motor = 1
#C Fri Jun 14 12:50:25 2024.  num_events_primary = 5
#C Fri Jun 14 12:50:25 2024.  exit_status = success

#S 78  count(detectors=[&#39;simdet&#39;], num=5, delay=None)
#D Fri Jun 14 12:50:27 2024
#C Fri Jun 14 12:50:27 2024.  plan_type = generator
#C Fri Jun 14 12:50:27 2024.  uid = c9b96f7c-3f94-480e-a746-ee9455d3cb2e
#MD uid = c9b96f7c-3f94-480e-a746-ee9455d3cb2e
#MD beamline_id = Bluesky_training
#MD conda_prefix = /home/prjemian/.conda/envs/bluesky_2024_2
#MD databroker_catalog = training
#MD detectors = [&#39;simdet&#39;]
#MD iconfig = {&#39;ADSIM_IOC_PREFIX&#39;: &#39;ad:&#39;, &#39;GP_IOC_PREFIX&#39;: &#39;gp:&#39;, &#39;DATABROKER_CATALOG&#39;: &#39;training&#39;, &#39;RUNENGINE_METADATA&#39;: {&#39;beamline_id&#39;: &#39;Bluesky_training&#39;, &#39;instrument_name&#39;: &#39;BCDA EPICS Bluesky training&#39;, &#39;proposal_id&#39;: &#39;training&#39;, &#39;databroker_catalog&#39;: &#39;training&#39;}, &#39;RUN_ENGINE_SCAN_ID_PV&#39;: &#39;gp:gp:int20&#39;, &#39;AD_IMAGE_DIR&#39;: &#39;adsimdet/%Y/%m/%d&#39;, &#39;AD_MOUNT_PATH&#39;: &#39;/tmp&#39;, &#39;BLUESKY_MOUNT_PATH&#39;: &#39;/tmp/docker_ioc/iocad/tmp&#39;, &#39;ALLOW_AREA_DETECTOR_WARMUP&#39;: True, &#39;ENABLE_AREA_DETECTOR_IMAGE_PLUGIN&#39;: True, &#39;ENABLE_CALCS&#39;: True, &#39;USE_PROGRESS_BAR&#39;: False, &#39;WRITE_NEXUS_DATA_FILES&#39;: False, &#39;NEXUS_WARN_MISSING_CONTENT&#39;: False, &#39;NEXUS_FILE_EXTENSION&#39;: &#39;h5&#39;, &#39;WRITE_SPEC_DATA_FILES&#39;: True, &#39;RUNENGINE_MD_PATH&#39;: &#39;/home/prjemian/.config/Bluesky_RunEngine_md&#39;, &#39;LOGGING&#39;: {&#39;NUMBER_OF_PREVIOUS_BACKUPS&#39;: 9}, &#39;PV_READ_TIMEOUT&#39;: 15, &#39;PV_WRITE_TIMEOUT&#39;: 15, &#39;PV_CONNECTION_TIMEOUT&#39;: 15, &#39;XMODE_DEBUG_LEVEL&#39;: &#39;Minimal&#39;, &#39;MINIMUM_PYTHON_VERSION&#39;: [3, 8], &#39;MINIMUM_BLUESKY_VERSION&#39;: [1, 10], &#39;MINIMUM_OPHYD_VERSION&#39;: [1, 7], &#39;MINIMUM_DATABROKER_VERSION&#39;: [1, 2], &#39;ICONFIG_VERSION&#39;: &#39;1.0.1&#39;}
#MD instrument_name = BCDA EPICS Bluesky training
#MD login_id = prjemian@arf.jemian.org
#MD num_intervals = 4
#MD num_points = 5
#MD pid = 45059
#MD proposal_id = training
#MD versions = {&#39;apstools&#39;: &#39;1.6.19&#39;, &#39;bluesky&#39;: &#39;1.13.0a3&#39;, &#39;databroker&#39;: &#39;1.2.5&#39;, &#39;epics&#39;: &#39;3.5.2&#39;, &#39;h5py&#39;: &#39;3.9.0&#39;, &#39;intake&#39;: &#39;0.6.4&#39;, &#39;matplotlib&#39;: &#39;3.8.4&#39;, &#39;numpy&#39;: &#39;1.26.4&#39;, &#39;ophyd&#39;: &#39;1.9.0&#39;, &#39;pyRestTable&#39;: &#39;2020.0.8&#39;, &#39;spec2nexus&#39;: &#39;2021.2.6&#39;}
#P0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 1.0
#P1 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.5
#P2 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0
#P3 0.0 0.0 0.0
#N 7
#L Epoch_float  Epoch  simdet_image  simdet_stats1_unique_id  simdet_stats1_max_value  simdet_stats1_total  simdet
0.21903419494628906 0 0 2393 165.0 11798555.0 0
#U 0 simdet_image cdb02c31-5d40-4e8d-a07d-5f02fd1ace2a/0
0.6323611736297607 1 1 2396 162.0 11536342.0 0
#U 1 simdet_image cdb02c31-5d40-4e8d-a07d-5f02fd1ace2a/1
1.0282175540924072 1 2 2399 159.0 11376878.0 0
#U 2 simdet_image cdb02c31-5d40-4e8d-a07d-5f02fd1ace2a/2
1.4214701652526855 1 3 2402 164.0 11722874.0 0
#U 3 simdet_image cdb02c31-5d40-4e8d-a07d-5f02fd1ace2a/3
1.8168435096740723 2 4 2405 160.0 11390266.0 0
#U 4 simdet_image cdb02c31-5d40-4e8d-a07d-5f02fd1ace2a/4
#C Fri Jun 14 12:50:27 2024.  resource {&#39;spec&#39;: &#39;AD_HDF5&#39;, &#39;root&#39;: &#39;/&#39;, &#39;resource_path&#39;: &#39;mnt/iockad/tmp/a34e6bc8-6f23-412a-abe0_000000.h5&#39;, &#39;resource_kwargs&#39;: {&#39;frame_per_point&#39;: 3}, &#39;path_semantics&#39;: &#39;posix&#39;, &#39;uid&#39;: &#39;cdb02c31-5d40-4e8d-a07d-5f02fd1ace2a&#39;, &#39;run_start&#39;: &#39;c9b96f7c-3f94-480e-a746-ee9455d3cb2e&#39;}
#C Fri Jun 14 12:50:27 2024.  datum {&#39;resource&#39;: &#39;cdb02c31-5d40-4e8d-a07d-5f02fd1ace2a&#39;, &#39;datum_id&#39;: &#39;cdb02c31-5d40-4e8d-a07d-5f02fd1ace2a/0&#39;, &#39;datum_kwargs&#39;: {&#39;point_number&#39;: 0}}
#C Fri Jun 14 12:50:27 2024.  datum {&#39;resource&#39;: &#39;cdb02c31-5d40-4e8d-a07d-5f02fd1ace2a&#39;, &#39;datum_id&#39;: &#39;cdb02c31-5d40-4e8d-a07d-5f02fd1ace2a/1&#39;, &#39;datum_kwargs&#39;: {&#39;point_number&#39;: 1}}
#C Fri Jun 14 12:50:28 2024.  datum {&#39;resource&#39;: &#39;cdb02c31-5d40-4e8d-a07d-5f02fd1ace2a&#39;, &#39;datum_id&#39;: &#39;cdb02c31-5d40-4e8d-a07d-5f02fd1ace2a/2&#39;, &#39;datum_kwargs&#39;: {&#39;point_number&#39;: 2}}
#C Fri Jun 14 12:50:28 2024.  datum {&#39;resource&#39;: &#39;cdb02c31-5d40-4e8d-a07d-5f02fd1ace2a&#39;, &#39;datum_id&#39;: &#39;cdb02c31-5d40-4e8d-a07d-5f02fd1ace2a/3&#39;, &#39;datum_kwargs&#39;: {&#39;point_number&#39;: 3}}
#C Fri Jun 14 12:50:29 2024.  datum {&#39;resource&#39;: &#39;cdb02c31-5d40-4e8d-a07d-5f02fd1ace2a&#39;, &#39;datum_id&#39;: &#39;cdb02c31-5d40-4e8d-a07d-5f02fd1ace2a/4&#39;, &#39;datum_kwargs&#39;: {&#39;point_number&#39;: 4}}
#C Fri Jun 14 12:50:29 2024.  num_events_label_start_motor = 1
#C Fri Jun 14 12:50:29 2024.  num_events_primary = 5
#C Fri Jun 14 12:50:29 2024.  exit_status = success

#S 79  scan(detectors=[&#39;simdet&#39;], num=5, args=&#39;[&#39;m1&#39;, -1, 1]&#39;, per_step=&#39;None&#39;)
#D Fri Jun 14 12:50:31 2024
#C Fri Jun 14 12:50:31 2024.  plan_type = generator
#C Fri Jun 14 12:50:31 2024.  uid = b5893ed7-1962-42ac-a933-1fc331f081a7
#MD uid = b5893ed7-1962-42ac-a933-1fc331f081a7
#MD beamline_id = Bluesky_training
#MD conda_prefix = /home/prjemian/.conda/envs/bluesky_2024_2
#MD databroker_catalog = training
#MD detectors = [&#39;simdet&#39;]
#MD iconfig = {&#39;ADSIM_IOC_PREFIX&#39;: &#39;ad:&#39;, &#39;GP_IOC_PREFIX&#39;: &#39;gp:&#39;, &#39;DATABROKER_CATALOG&#39;: &#39;training&#39;, &#39;RUNENGINE_METADATA&#39;: {&#39;beamline_id&#39;: &#39;Bluesky_training&#39;, &#39;instrument_name&#39;: &#39;BCDA EPICS Bluesky training&#39;, &#39;proposal_id&#39;: &#39;training&#39;, &#39;databroker_catalog&#39;: &#39;training&#39;}, &#39;RUN_ENGINE_SCAN_ID_PV&#39;: &#39;gp:gp:int20&#39;, &#39;AD_IMAGE_DIR&#39;: &#39;adsimdet/%Y/%m/%d&#39;, &#39;AD_MOUNT_PATH&#39;: &#39;/tmp&#39;, &#39;BLUESKY_MOUNT_PATH&#39;: &#39;/tmp/docker_ioc/iocad/tmp&#39;, &#39;ALLOW_AREA_DETECTOR_WARMUP&#39;: True, &#39;ENABLE_AREA_DETECTOR_IMAGE_PLUGIN&#39;: True, &#39;ENABLE_CALCS&#39;: True, &#39;USE_PROGRESS_BAR&#39;: False, &#39;WRITE_NEXUS_DATA_FILES&#39;: False, &#39;NEXUS_WARN_MISSING_CONTENT&#39;: False, &#39;NEXUS_FILE_EXTENSION&#39;: &#39;h5&#39;, &#39;WRITE_SPEC_DATA_FILES&#39;: True, &#39;RUNENGINE_MD_PATH&#39;: &#39;/home/prjemian/.config/Bluesky_RunEngine_md&#39;, &#39;LOGGING&#39;: {&#39;NUMBER_OF_PREVIOUS_BACKUPS&#39;: 9}, &#39;PV_READ_TIMEOUT&#39;: 15, &#39;PV_WRITE_TIMEOUT&#39;: 15, &#39;PV_CONNECTION_TIMEOUT&#39;: 15, &#39;XMODE_DEBUG_LEVEL&#39;: &#39;Minimal&#39;, &#39;MINIMUM_PYTHON_VERSION&#39;: [3, 8], &#39;MINIMUM_BLUESKY_VERSION&#39;: [1, 10], &#39;MINIMUM_OPHYD_VERSION&#39;: [1, 7], &#39;MINIMUM_DATABROKER_VERSION&#39;: [1, 2], &#39;ICONFIG_VERSION&#39;: &#39;1.0.1&#39;}
#MD instrument_name = BCDA EPICS Bluesky training
#MD login_id = prjemian@arf.jemian.org
#MD motors = (&#39;m1&#39;,)
#MD num_intervals = 4
#MD num_points = 5
#MD pid = 45059
#MD plan_pattern = inner_product
#MD plan_pattern_args = {&#39;num&#39;: 5, &#39;args&#39;: [&#34;MyEpicsMotor(prefix=&#39;gp:m1&#39;, name=&#39;m1&#39;, settle_time=0.0, timeout=None, read_attrs=[&#39;user_readback&#39;, &#39;user_setpoint&#39;], configuration_attrs=[&#39;user_offset&#39;, &#39;user_offset_dir&#39;, &#39;velocity&#39;, &#39;acceleration&#39;, &#39;motor_egu&#39;])&#34;, -1, 1]}
#MD plan_pattern_module = bluesky.plan_patterns
#MD proposal_id = training
#MD versions = {&#39;apstools&#39;: &#39;1.6.19&#39;, &#39;bluesky&#39;: &#39;1.13.0a3&#39;, &#39;databroker&#39;: &#39;1.2.5&#39;, &#39;epics&#39;: &#39;3.5.2&#39;, &#39;h5py&#39;: &#39;3.9.0&#39;, &#39;intake&#39;: &#39;0.6.4&#39;, &#39;matplotlib&#39;: &#39;3.8.4&#39;, &#39;numpy&#39;: &#39;1.26.4&#39;, &#39;ophyd&#39;: &#39;1.9.0&#39;, &#39;pyRestTable&#39;: &#39;2020.0.8&#39;, &#39;spec2nexus&#39;: &#39;2021.2.6&#39;}
#P0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 1.0
#P1 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.5
#P2 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0
#P3 0.0 0.0 0.0
#N 9
#L m1  Epoch_float  Epoch  simdet_image  simdet_stats1_unique_id  simdet_stats1_max_value  simdet_stats1_total  m1_user_setpoint  simdet
-1.0 2.5257866382598877 3 0 2408 162.0 11537030.0 -1.0 0
#U 0 simdet_image 3a0cfc56-a5a3-4aa0-a2e7-cb7dc22159fe/0
-0.5 3.2800838947296143 3 1 2411 160.0 11420007.0 -0.5 0
#U 1 simdet_image 3a0cfc56-a5a3-4aa0-a2e7-cb7dc22159fe/1
0.0 4.082540035247803 4 2 2414 162.0 11521488.0 0.0 0
#U 2 simdet_image 3a0cfc56-a5a3-4aa0-a2e7-cb7dc22159fe/2
0.5 4.886427164077759 5 3 2417 163.0 11657838.0 0.5 0
#U 3 simdet_image 3a0cfc56-a5a3-4aa0-a2e7-cb7dc22159fe/3
1.0 5.688661098480225 6 4 2420 166.0 11837844.0 1.0 0
#U 4 simdet_image 3a0cfc56-a5a3-4aa0-a2e7-cb7dc22159fe/4
#C Fri Jun 14 12:50:34 2024.  resource {&#39;spec&#39;: &#39;AD_HDF5&#39;, &#39;root&#39;: &#39;/&#39;, &#39;resource_path&#39;: &#39;mnt/iockad/tmp/d2140647-363d-44b3-aff3_000000.h5&#39;, &#39;resource_kwargs&#39;: {&#39;frame_per_point&#39;: 3}, &#39;path_semantics&#39;: &#39;posix&#39;, &#39;uid&#39;: &#39;3a0cfc56-a5a3-4aa0-a2e7-cb7dc22159fe&#39;, &#39;run_start&#39;: &#39;b5893ed7-1962-42ac-a933-1fc331f081a7&#39;}
#C Fri Jun 14 12:50:34 2024.  datum {&#39;resource&#39;: &#39;3a0cfc56-a5a3-4aa0-a2e7-cb7dc22159fe&#39;, &#39;datum_id&#39;: &#39;3a0cfc56-a5a3-4aa0-a2e7-cb7dc22159fe/0&#39;, &#39;datum_kwargs&#39;: {&#39;point_number&#39;: 0}}
#C Fri Jun 14 12:50:35 2024.  datum {&#39;resource&#39;: &#39;3a0cfc56-a5a3-4aa0-a2e7-cb7dc22159fe&#39;, &#39;datum_id&#39;: &#39;3a0cfc56-a5a3-4aa0-a2e7-cb7dc22159fe/1&#39;, &#39;datum_kwargs&#39;: {&#39;point_number&#39;: 1}}
#C Fri Jun 14 12:50:35 2024.  datum {&#39;resource&#39;: &#39;3a0cfc56-a5a3-4aa0-a2e7-cb7dc22159fe&#39;, &#39;datum_id&#39;: &#39;3a0cfc56-a5a3-4aa0-a2e7-cb7dc22159fe/2&#39;, &#39;datum_kwargs&#39;: {&#39;point_number&#39;: 2}}
#C Fri Jun 14 12:50:36 2024.  datum {&#39;resource&#39;: &#39;3a0cfc56-a5a3-4aa0-a2e7-cb7dc22159fe&#39;, &#39;datum_id&#39;: &#39;3a0cfc56-a5a3-4aa0-a2e7-cb7dc22159fe/3&#39;, &#39;datum_kwargs&#39;: {&#39;point_number&#39;: 3}}
#C Fri Jun 14 12:50:37 2024.  datum {&#39;resource&#39;: &#39;3a0cfc56-a5a3-4aa0-a2e7-cb7dc22159fe&#39;, &#39;datum_id&#39;: &#39;3a0cfc56-a5a3-4aa0-a2e7-cb7dc22159fe/4&#39;, &#39;datum_kwargs&#39;: {&#39;point_number&#39;: 4}}
#C Fri Jun 14 12:50:37 2024.  num_events_label_start_motor = 1
#C Fri Jun 14 12:50:37 2024.  num_events_primary = 5
#C Fri Jun 14 12:50:37 2024.  exit_status = success

#S 80  scan(detectors=[&#39;simdet&#39;], num=5, args=&#39;[&#39;m1&#39;, -1, 1, &#39;m2&#39;, 4, 1.5]&#39;, per_step=&#39;None&#39;)
#D Fri Jun 14 12:50:38 2024
#C Fri Jun 14 12:50:38 2024.  plan_type = generator
#C Fri Jun 14 12:50:38 2024.  uid = 6cf12bfd-917f-4b71-a3fc-6064261b8f84
#MD uid = 6cf12bfd-917f-4b71-a3fc-6064261b8f84
#MD beamline_id = Bluesky_training
#MD conda_prefix = /home/prjemian/.conda/envs/bluesky_2024_2
#MD databroker_catalog = training
#MD detectors = [&#39;simdet&#39;]
#MD iconfig = {&#39;ADSIM_IOC_PREFIX&#39;: &#39;ad:&#39;, &#39;GP_IOC_PREFIX&#39;: &#39;gp:&#39;, &#39;DATABROKER_CATALOG&#39;: &#39;training&#39;, &#39;RUNENGINE_METADATA&#39;: {&#39;beamline_id&#39;: &#39;Bluesky_training&#39;, &#39;instrument_name&#39;: &#39;BCDA EPICS Bluesky training&#39;, &#39;proposal_id&#39;: &#39;training&#39;, &#39;databroker_catalog&#39;: &#39;training&#39;}, &#39;RUN_ENGINE_SCAN_ID_PV&#39;: &#39;gp:gp:int20&#39;, &#39;AD_IMAGE_DIR&#39;: &#39;adsimdet/%Y/%m/%d&#39;, &#39;AD_MOUNT_PATH&#39;: &#39;/tmp&#39;, &#39;BLUESKY_MOUNT_PATH&#39;: &#39;/tmp/docker_ioc/iocad/tmp&#39;, &#39;ALLOW_AREA_DETECTOR_WARMUP&#39;: True, &#39;ENABLE_AREA_DETECTOR_IMAGE_PLUGIN&#39;: True, &#39;ENABLE_CALCS&#39;: True, &#39;USE_PROGRESS_BAR&#39;: False, &#39;WRITE_NEXUS_DATA_FILES&#39;: False, &#39;NEXUS_WARN_MISSING_CONTENT&#39;: False, &#39;NEXUS_FILE_EXTENSION&#39;: &#39;h5&#39;, &#39;WRITE_SPEC_DATA_FILES&#39;: True, &#39;RUNENGINE_MD_PATH&#39;: &#39;/home/prjemian/.config/Bluesky_RunEngine_md&#39;, &#39;LOGGING&#39;: {&#39;NUMBER_OF_PREVIOUS_BACKUPS&#39;: 9}, &#39;PV_READ_TIMEOUT&#39;: 15, &#39;PV_WRITE_TIMEOUT&#39;: 15, &#39;PV_CONNECTION_TIMEOUT&#39;: 15, &#39;XMODE_DEBUG_LEVEL&#39;: &#39;Minimal&#39;, &#39;MINIMUM_PYTHON_VERSION&#39;: [3, 8], &#39;MINIMUM_BLUESKY_VERSION&#39;: [1, 10], &#39;MINIMUM_OPHYD_VERSION&#39;: [1, 7], &#39;MINIMUM_DATABROKER_VERSION&#39;: [1, 2], &#39;ICONFIG_VERSION&#39;: &#39;1.0.1&#39;}
#MD instrument_name = BCDA EPICS Bluesky training
#MD login_id = prjemian@arf.jemian.org
#MD motors = (&#39;m1&#39;, &#39;m2&#39;)
#MD num_intervals = 4
#MD num_points = 5
#MD pid = 45059
#MD plan_pattern = inner_product
#MD plan_pattern_args = {&#39;num&#39;: 5, &#39;args&#39;: [&#34;MyEpicsMotor(prefix=&#39;gp:m1&#39;, name=&#39;m1&#39;, settle_time=0.0, timeout=None, read_attrs=[&#39;user_readback&#39;, &#39;user_setpoint&#39;], configuration_attrs=[&#39;user_offset&#39;, &#39;user_offset_dir&#39;, &#39;velocity&#39;, &#39;acceleration&#39;, &#39;motor_egu&#39;])&#34;, -1, 1, &#34;MyEpicsMotor(prefix=&#39;gp:m2&#39;, name=&#39;m2&#39;, settle_time=0.0, timeout=None, read_attrs=[&#39;user_readback&#39;, &#39;user_setpoint&#39;], configuration_attrs=[&#39;user_offset&#39;, &#39;user_offset_dir&#39;, &#39;velocity&#39;, &#39;acceleration&#39;, &#39;motor_egu&#39;])&#34;, 4, 1.5]}
#MD plan_pattern_module = bluesky.plan_patterns
#MD proposal_id = training
#MD versions = {&#39;apstools&#39;: &#39;1.6.19&#39;, &#39;bluesky&#39;: &#39;1.13.0a3&#39;, &#39;databroker&#39;: &#39;1.2.5&#39;, &#39;epics&#39;: &#39;3.5.2&#39;, &#39;h5py&#39;: &#39;3.9.0&#39;, &#39;intake&#39;: &#39;0.6.4&#39;, &#39;matplotlib&#39;: &#39;3.8.4&#39;, &#39;numpy&#39;: &#39;1.26.4&#39;, &#39;ophyd&#39;: &#39;1.9.0&#39;, &#39;pyRestTable&#39;: &#39;2020.0.8&#39;, &#39;spec2nexus&#39;: &#39;2021.2.6&#39;}
#P0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 1.0
#P1 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.5
#P2 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0
#P3 0.0 0.0 0.0
#N 11
#L m1  m2  Epoch_float  Epoch  simdet_image  simdet_stats1_unique_id  simdet_stats1_max_value  simdet_stats1_total  m1_user_setpoint  m2_user_setpoint  simdet
-1.0 4.0 4.025670528411865 4 0 2423 166.0 11853218.0 -1.0 4.0 0
#U 0 simdet_image 41ef533a-031c-4d70-a453-5d2f593c5a83/0
-0.5 3.375 4.87780499458313 5 1 2426 162.0 11536919.0 -0.5 3.375 0
#U 1 simdet_image 41ef533a-031c-4d70-a453-5d2f593c5a83/1
0.0 2.75 5.782374620437622 6 2 2429 159.0 11340043.0 0.0 2.75 0
#U 2 simdet_image 41ef533a-031c-4d70-a453-5d2f593c5a83/2
0.5 2.125 6.682462692260742 7 3 2432 162.0 11535990.0 0.5 2.125 0
#U 3 simdet_image 41ef533a-031c-4d70-a453-5d2f593c5a83/3
1.0 1.5 7.563983201980591 8 4 2435 164.0 11720835.0 1.0 1.5 0
#U 4 simdet_image 41ef533a-031c-4d70-a453-5d2f593c5a83/4
#C Fri Jun 14 12:50:42 2024.  resource {&#39;spec&#39;: &#39;AD_HDF5&#39;, &#39;root&#39;: &#39;/&#39;, &#39;resource_path&#39;: &#39;mnt/iockad/tmp/e7a03ede-e9df-4dba-8927_000000.h5&#39;, &#39;resource_kwargs&#39;: {&#39;frame_per_point&#39;: 3}, &#39;path_semantics&#39;: &#39;posix&#39;, &#39;uid&#39;: &#39;41ef533a-031c-4d70-a453-5d2f593c5a83&#39;, &#39;run_start&#39;: &#39;6cf12bfd-917f-4b71-a3fc-6064261b8f84&#39;}
#C Fri Jun 14 12:50:42 2024.  datum {&#39;resource&#39;: &#39;41ef533a-031c-4d70-a453-5d2f593c5a83&#39;, &#39;datum_id&#39;: &#39;41ef533a-031c-4d70-a453-5d2f593c5a83/0&#39;, &#39;datum_kwargs&#39;: {&#39;point_number&#39;: 0}}
#C Fri Jun 14 12:50:43 2024.  datum {&#39;resource&#39;: &#39;41ef533a-031c-4d70-a453-5d2f593c5a83&#39;, &#39;datum_id&#39;: &#39;41ef533a-031c-4d70-a453-5d2f593c5a83/1&#39;, &#39;datum_kwargs&#39;: {&#39;point_number&#39;: 1}}
#C Fri Jun 14 12:50:44 2024.  datum {&#39;resource&#39;: &#39;41ef533a-031c-4d70-a453-5d2f593c5a83&#39;, &#39;datum_id&#39;: &#39;41ef533a-031c-4d70-a453-5d2f593c5a83/2&#39;, &#39;datum_kwargs&#39;: {&#39;point_number&#39;: 2}}
#C Fri Jun 14 12:50:45 2024.  datum {&#39;resource&#39;: &#39;41ef533a-031c-4d70-a453-5d2f593c5a83&#39;, &#39;datum_id&#39;: &#39;41ef533a-031c-4d70-a453-5d2f593c5a83/3&#39;, &#39;datum_kwargs&#39;: {&#39;point_number&#39;: 3}}
#C Fri Jun 14 12:50:46 2024.  datum {&#39;resource&#39;: &#39;41ef533a-031c-4d70-a453-5d2f593c5a83&#39;, &#39;datum_id&#39;: &#39;41ef533a-031c-4d70-a453-5d2f593c5a83/4&#39;, &#39;datum_kwargs&#39;: {&#39;point_number&#39;: 4}}
#C Fri Jun 14 12:50:46 2024.  num_events_label_start_motor = 1
#C Fri Jun 14 12:50:46 2024.  num_events_primary = 5
#C Fri Jun 14 12:50:46 2024.  exit_status = success

#S 81  grid_scan(detectors=[&#39;simdet&#39;], args=&#39;[&#39;m1&#39;, -1, 1, 5, &#39;m2&#39;, -0.5, 0.5, 4, True]&#39;, per_step=&#39;None&#39;)
#D Fri Jun 14 12:50:46 2024
#C Fri Jun 14 12:50:46 2024.  plan_type = generator
#C Fri Jun 14 12:50:46 2024.  uid = 4c60ebae-32d4-4de8-8ac9-619066a4152b
#MD uid = 4c60ebae-32d4-4de8-8ac9-619066a4152b
#MD beamline_id = Bluesky_training
#MD conda_prefix = /home/prjemian/.conda/envs/bluesky_2024_2
#MD databroker_catalog = training
#MD detectors = [&#39;simdet&#39;]
#MD extents = ([-1, 1], [-0.5, 0.5])
#MD iconfig = {&#39;ADSIM_IOC_PREFIX&#39;: &#39;ad:&#39;, &#39;GP_IOC_PREFIX&#39;: &#39;gp:&#39;, &#39;DATABROKER_CATALOG&#39;: &#39;training&#39;, &#39;RUNENGINE_METADATA&#39;: {&#39;beamline_id&#39;: &#39;Bluesky_training&#39;, &#39;instrument_name&#39;: &#39;BCDA EPICS Bluesky training&#39;, &#39;proposal_id&#39;: &#39;training&#39;, &#39;databroker_catalog&#39;: &#39;training&#39;}, &#39;RUN_ENGINE_SCAN_ID_PV&#39;: &#39;gp:gp:int20&#39;, &#39;AD_IMAGE_DIR&#39;: &#39;adsimdet/%Y/%m/%d&#39;, &#39;AD_MOUNT_PATH&#39;: &#39;/tmp&#39;, &#39;BLUESKY_MOUNT_PATH&#39;: &#39;/tmp/docker_ioc/iocad/tmp&#39;, &#39;ALLOW_AREA_DETECTOR_WARMUP&#39;: True, &#39;ENABLE_AREA_DETECTOR_IMAGE_PLUGIN&#39;: True, &#39;ENABLE_CALCS&#39;: True, &#39;USE_PROGRESS_BAR&#39;: False, &#39;WRITE_NEXUS_DATA_FILES&#39;: False, &#39;NEXUS_WARN_MISSING_CONTENT&#39;: False, &#39;NEXUS_FILE_EXTENSION&#39;: &#39;h5&#39;, &#39;WRITE_SPEC_DATA_FILES&#39;: True, &#39;RUNENGINE_MD_PATH&#39;: &#39;/home/prjemian/.config/Bluesky_RunEngine_md&#39;, &#39;LOGGING&#39;: {&#39;NUMBER_OF_PREVIOUS_BACKUPS&#39;: 9}, &#39;PV_READ_TIMEOUT&#39;: 15, &#39;PV_WRITE_TIMEOUT&#39;: 15, &#39;PV_CONNECTION_TIMEOUT&#39;: 15, &#39;XMODE_DEBUG_LEVEL&#39;: &#39;Minimal&#39;, &#39;MINIMUM_PYTHON_VERSION&#39;: [3, 8], &#39;MINIMUM_BLUESKY_VERSION&#39;: [1, 10], &#39;MINIMUM_OPHYD_VERSION&#39;: [1, 7], &#39;MINIMUM_DATABROKER_VERSION&#39;: [1, 2], &#39;ICONFIG_VERSION&#39;: &#39;1.0.1&#39;}
#MD instrument_name = BCDA EPICS Bluesky training
#MD login_id = prjemian@arf.jemian.org
#MD motors = (&#39;m1&#39;, &#39;m2&#39;)
#MD num_intervals = 19
#MD num_points = 20
#MD pid = 45059
#MD plan_pattern = outer_product
#MD plan_pattern_args = {&#39;args&#39;: [&#34;MyEpicsMotor(prefix=&#39;gp:m1&#39;, name=&#39;m1&#39;, settle_time=0.0, timeout=None, read_attrs=[&#39;user_readback&#39;, &#39;user_setpoint&#39;], configuration_attrs=[&#39;user_offset&#39;, &#39;user_offset_dir&#39;, &#39;velocity&#39;, &#39;acceleration&#39;, &#39;motor_egu&#39;])&#34;, -1, 1, 5, &#34;MyEpicsMotor(prefix=&#39;gp:m2&#39;, name=&#39;m2&#39;, settle_time=0.0, timeout=None, read_attrs=[&#39;user_readback&#39;, &#39;user_setpoint&#39;], configuration_attrs=[&#39;user_offset&#39;, &#39;user_offset_dir&#39;, &#39;velocity&#39;, &#39;acceleration&#39;, &#39;motor_egu&#39;])&#34;, -0.5, 0.5, 4, True]}
#MD plan_pattern_module = bluesky.plan_patterns
#MD proposal_id = training
#MD shape = (5, 4)
#MD snaking = (False, True)
#MD versions = {&#39;apstools&#39;: &#39;1.6.19&#39;, &#39;bluesky&#39;: &#39;1.13.0a3&#39;, &#39;databroker&#39;: &#39;1.2.5&#39;, &#39;epics&#39;: &#39;3.5.2&#39;, &#39;h5py&#39;: &#39;3.9.0&#39;, &#39;intake&#39;: &#39;0.6.4&#39;, &#39;matplotlib&#39;: &#39;3.8.4&#39;, &#39;numpy&#39;: &#39;1.26.4&#39;, &#39;ophyd&#39;: &#39;1.9.0&#39;, &#39;pyRestTable&#39;: &#39;2020.0.8&#39;, &#39;spec2nexus&#39;: &#39;2021.2.6&#39;}
#P0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 1.0
#P1 0.0 0.0 0.0 0.0 0.0 0.0 0.0 1.5
#P2 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0
#P3 0.0 0.0 0.0
#N 11
#L m1  m2  Epoch_float  Epoch  simdet_image  simdet_stats1_unique_id  simdet_stats1_max_value  simdet_stats1_total  m1_user_setpoint  m2_user_setpoint  simdet
-1.0 -0.5 2.489992380142212 2 0 2438 161.0 11486064.0 -1.0 -0.5 0
#U 0 simdet_image c89657f0-11a6-4b49-b249-dd6baab78d16/0
-1.0 -0.16670000000000001 3.1211721897125244 3 1 2441 160.0 11444447.0 -1.0 -0.16666666666666669 0
#U 1 simdet_image c89657f0-11a6-4b49-b249-dd6baab78d16/1
-1.0 0.16670000000000001 3.7210841178894043 4 2 2444 166.0 11831610.0 -1.0 0.16666666666666663 0
#U 2 simdet_image c89657f0-11a6-4b49-b249-dd6baab78d16/2
-1.0 0.5 4.325216293334961 4 3 2447 159.0 11368245.0 -1.0 0.5 0
#U 3 simdet_image c89657f0-11a6-4b49-b249-dd6baab78d16/3
-0.5 0.5 5.128887891769409 5 4 2450 160.0 11455275.0 -0.5 0.5 0
#U 4 simdet_image c89657f0-11a6-4b49-b249-dd6baab78d16/4
-0.5 0.16670000000000001 5.726337432861328 6 5 2453 165.0 11673710.0 -0.5 0.16666666666666663 0
#U 5 simdet_image c89657f0-11a6-4b49-b249-dd6baab78d16/5
-0.5 -0.16670000000000001 6.312567234039307 6 6 2456 161.0 11462970.0 -0.5 -0.16666666666666669 0
#U 6 simdet_image c89657f0-11a6-4b49-b249-dd6baab78d16/6
-0.5 -0.5 6.926180124282837 7 7 2459 160.0 11420602.0 -0.5 -0.5 0
#U 7 simdet_image c89657f0-11a6-4b49-b249-dd6baab78d16/7
0.0 -0.5 7.7345733642578125 8 8 2462 166.0 11833606.0 0.0 -0.5 0
#U 8 simdet_image c89657f0-11a6-4b49-b249-dd6baab78d16/8
0.0 -0.16670000000000001 8.335309267044067 8 9 2465 162.0 11535871.0 0.0 -0.16666666666666669 0
#U 9 simdet_image c89657f0-11a6-4b49-b249-dd6baab78d16/9
0.0 0.16670000000000001 8.93614149093628 9 10 2468 161.0 11506842.0 0.0 0.16666666666666663 0
#U 10 simdet_image c89657f0-11a6-4b49-b249-dd6baab78d16/10
0.0 0.5 9.53725266456604 10 11 2471 163.0 11658515.0 0.0 0.5 0
#U 11 simdet_image c89657f0-11a6-4b49-b249-dd6baab78d16/11
0.5 0.5 10.324151754379272 10 12 2474 161.0 11523895.0 0.5 0.5 0
#U 12 simdet_image c89657f0-11a6-4b49-b249-dd6baab78d16/12
0.5 0.16670000000000001 10.920289039611816 11 13 2477 159.0 11383551.0 0.5 0.16666666666666663 0
#U 13 simdet_image c89657f0-11a6-4b49-b249-dd6baab78d16/13
0.5 -0.16670000000000001 11.523886919021606 12 14 2480 162.0 11534936.0 0.5 -0.16666666666666669 0
#U 14 simdet_image c89657f0-11a6-4b49-b249-dd6baab78d16/14
0.5 -0.5 12.121527671813965 12 15 2483 164.0 11714401.0 0.5 -0.5 0
#U 15 simdet_image c89657f0-11a6-4b49-b249-dd6baab78d16/15
1.0 -0.5 12.931219577789307 13 16 2486 159.0 11357714.0 1.0 -0.5 0
#U 16 simdet_image c89657f0-11a6-4b49-b249-dd6baab78d16/16
1.0 -0.16670000000000001 13.522588968276978 14 17 2489 164.0 11720644.0 1.0 -0.16666666666666669 0
#U 17 simdet_image c89657f0-11a6-4b49-b249-dd6baab78d16/17
1.0 0.16670000000000001 14.144247770309448 14 18 2492 166.0 11812730.0 1.0 0.16666666666666663 0
#U 18 simdet_image c89657f0-11a6-4b49-b249-dd6baab78d16/18
1.0 0.5 14.747449398040771 15 19 2495 163.0 11657465.0 1.0 0.5 0
#U 19 simdet_image c89657f0-11a6-4b49-b249-dd6baab78d16/19
#C Fri Jun 14 12:50:49 2024.  resource {&#39;spec&#39;: &#39;AD_HDF5&#39;, &#39;root&#39;: &#39;/&#39;, &#39;resource_path&#39;: &#39;mnt/iockad/tmp/7f05c03b-e71a-4ad0-92af_000000.h5&#39;, &#39;resource_kwargs&#39;: {&#39;frame_per_point&#39;: 3}, &#39;path_semantics&#39;: &#39;posix&#39;, &#39;uid&#39;: &#39;c89657f0-11a6-4b49-b249-dd6baab78d16&#39;, &#39;run_start&#39;: &#39;4c60ebae-32d4-4de8-8ac9-619066a4152b&#39;}
#C Fri Jun 14 12:50:49 2024.  datum {&#39;resource&#39;: &#39;c89657f0-11a6-4b49-b249-dd6baab78d16&#39;, &#39;datum_id&#39;: &#39;c89657f0-11a6-4b49-b249-dd6baab78d16/0&#39;, &#39;datum_kwargs&#39;: {&#39;point_number&#39;: 0}}
#C Fri Jun 14 12:50:49 2024.  datum {&#39;resource&#39;: &#39;c89657f0-11a6-4b49-b249-dd6baab78d16&#39;, &#39;datum_id&#39;: &#39;c89657f0-11a6-4b49-b249-dd6baab78d16/1&#39;, &#39;datum_kwargs&#39;: {&#39;point_number&#39;: 1}}
#C Fri Jun 14 12:50:50 2024.  datum {&#39;resource&#39;: &#39;c89657f0-11a6-4b49-b249-dd6baab78d16&#39;, &#39;datum_id&#39;: &#39;c89657f0-11a6-4b49-b249-dd6baab78d16/2&#39;, &#39;datum_kwargs&#39;: {&#39;point_number&#39;: 2}}
#C Fri Jun 14 12:50:51 2024.  datum {&#39;resource&#39;: &#39;c89657f0-11a6-4b49-b249-dd6baab78d16&#39;, &#39;datum_id&#39;: &#39;c89657f0-11a6-4b49-b249-dd6baab78d16/3&#39;, &#39;datum_kwargs&#39;: {&#39;point_number&#39;: 3}}
#C Fri Jun 14 12:50:51 2024.  datum {&#39;resource&#39;: &#39;c89657f0-11a6-4b49-b249-dd6baab78d16&#39;, &#39;datum_id&#39;: &#39;c89657f0-11a6-4b49-b249-dd6baab78d16/4&#39;, &#39;datum_kwargs&#39;: {&#39;point_number&#39;: 4}}
#C Fri Jun 14 12:50:52 2024.  datum {&#39;resource&#39;: &#39;c89657f0-11a6-4b49-b249-dd6baab78d16&#39;, &#39;datum_id&#39;: &#39;c89657f0-11a6-4b49-b249-dd6baab78d16/5&#39;, &#39;datum_kwargs&#39;: {&#39;point_number&#39;: 5}}
#C Fri Jun 14 12:50:53 2024.  datum {&#39;resource&#39;: &#39;c89657f0-11a6-4b49-b249-dd6baab78d16&#39;, &#39;datum_id&#39;: &#39;c89657f0-11a6-4b49-b249-dd6baab78d16/6&#39;, &#39;datum_kwargs&#39;: {&#39;point_number&#39;: 6}}
#C Fri Jun 14 12:50:53 2024.  datum {&#39;resource&#39;: &#39;c89657f0-11a6-4b49-b249-dd6baab78d16&#39;, &#39;datum_id&#39;: &#39;c89657f0-11a6-4b49-b249-dd6baab78d16/7&#39;, &#39;datum_kwargs&#39;: {&#39;point_number&#39;: 7}}
#C Fri Jun 14 12:50:54 2024.  datum {&#39;resource&#39;: &#39;c89657f0-11a6-4b49-b249-dd6baab78d16&#39;, &#39;datum_id&#39;: &#39;c89657f0-11a6-4b49-b249-dd6baab78d16/8&#39;, &#39;datum_kwargs&#39;: {&#39;point_number&#39;: 8}}
#C Fri Jun 14 12:50:55 2024.  datum {&#39;resource&#39;: &#39;c89657f0-11a6-4b49-b249-dd6baab78d16&#39;, &#39;datum_id&#39;: &#39;c89657f0-11a6-4b49-b249-dd6baab78d16/9&#39;, &#39;datum_kwargs&#39;: {&#39;point_number&#39;: 9}}
#C Fri Jun 14 12:50:55 2024.  datum {&#39;resource&#39;: &#39;c89657f0-11a6-4b49-b249-dd6baab78d16&#39;, &#39;datum_id&#39;: &#39;c89657f0-11a6-4b49-b249-dd6baab78d16/10&#39;, &#39;datum_kwargs&#39;: {&#39;point_number&#39;: 10}}
#C Fri Jun 14 12:50:56 2024.  datum {&#39;resource&#39;: &#39;c89657f0-11a6-4b49-b249-dd6baab78d16&#39;, &#39;datum_id&#39;: &#39;c89657f0-11a6-4b49-b249-dd6baab78d16/11&#39;, &#39;datum_kwargs&#39;: {&#39;point_number&#39;: 11}}
#C Fri Jun 14 12:50:57 2024.  datum {&#39;resource&#39;: &#39;c89657f0-11a6-4b49-b249-dd6baab78d16&#39;, &#39;datum_id&#39;: &#39;c89657f0-11a6-4b49-b249-dd6baab78d16/12&#39;, &#39;datum_kwargs&#39;: {&#39;point_number&#39;: 12}}
#C Fri Jun 14 12:50:57 2024.  datum {&#39;resource&#39;: &#39;c89657f0-11a6-4b49-b249-dd6baab78d16&#39;, &#39;datum_id&#39;: &#39;c89657f0-11a6-4b49-b249-dd6baab78d16/13&#39;, &#39;datum_kwargs&#39;: {&#39;point_number&#39;: 13}}
#C Fri Jun 14 12:50:58 2024.  datum {&#39;resource&#39;: &#39;c89657f0-11a6-4b49-b249-dd6baab78d16&#39;, &#39;datum_id&#39;: &#39;c89657f0-11a6-4b49-b249-dd6baab78d16/14&#39;, &#39;datum_kwargs&#39;: {&#39;point_number&#39;: 14}}
#C Fri Jun 14 12:50:58 2024.  datum {&#39;resource&#39;: &#39;c89657f0-11a6-4b49-b249-dd6baab78d16&#39;, &#39;datum_id&#39;: &#39;c89657f0-11a6-4b49-b249-dd6baab78d16/15&#39;, &#39;datum_kwargs&#39;: {&#39;point_number&#39;: 15}}
#C Fri Jun 14 12:50:59 2024.  datum {&#39;resource&#39;: &#39;c89657f0-11a6-4b49-b249-dd6baab78d16&#39;, &#39;datum_id&#39;: &#39;c89657f0-11a6-4b49-b249-dd6baab78d16/16&#39;, &#39;datum_kwargs&#39;: {&#39;point_number&#39;: 16}}
#C Fri Jun 14 12:51:00 2024.  datum {&#39;resource&#39;: &#39;c89657f0-11a6-4b49-b249-dd6baab78d16&#39;, &#39;datum_id&#39;: &#39;c89657f0-11a6-4b49-b249-dd6baab78d16/17&#39;, &#39;datum_kwargs&#39;: {&#39;point_number&#39;: 17}}
#C Fri Jun 14 12:51:00 2024.  datum {&#39;resource&#39;: &#39;c89657f0-11a6-4b49-b249-dd6baab78d16&#39;, &#39;datum_id&#39;: &#39;c89657f0-11a6-4b49-b249-dd6baab78d16/18&#39;, &#39;datum_kwargs&#39;: {&#39;point_number&#39;: 18}}
#C Fri Jun 14 12:51:01 2024.  datum {&#39;resource&#39;: &#39;c89657f0-11a6-4b49-b249-dd6baab78d16&#39;, &#39;datum_id&#39;: &#39;c89657f0-11a6-4b49-b249-dd6baab78d16/19&#39;, &#39;datum_kwargs&#39;: {&#39;point_number&#39;: 19}}
#C Fri Jun 14 12:51:01 2024.  num_events_label_start_motor = 1
#C Fri Jun 14 12:51:01 2024.  num_events_primary = 20
#C Fri Jun 14 12:51:01 2024.  exit_status = success

</pre></div></div>
</div>
</section>
</section>


                </article>
              
              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="bluesky_cheat_sheet.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Bluesky Cheat Sheet</p>
      </div>
    </a>
    <a class="right-next"
       href="_after_measurement.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Accessing data later, after the measurement</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
<div
    id="pst-page-navigation-heading-2"
    class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc" aria-labelledby="pst-page-navigation-heading-2">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#Start-the-instrument-package">Start the <code class="docutils literal notranslate"><span class="pre">instrument</span></code> package</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#Setup-&amp;-connect-with-EPICS">Setup &amp; connect with EPICS</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#Diagnostics-(optional)">Diagnostics (optional)</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#Take-image(s)-with-the-bp.count-plan">Take image(s) with the <code class="docutils literal notranslate"><span class="pre">bp.count</span></code> plan</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#Visualize-the-collected-data">Visualize the collected data</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#The-(1-D)-bp.scan()-plan-with-one-motor">The (1-D) <code class="docutils literal notranslate"><span class="pre">bp.scan()</span></code> plan with one motor</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#The-(1-D)-bp.scan()-plan-with-two-motors">The (1-D) <code class="docutils literal notranslate"><span class="pre">bp.scan()</span></code> plan with two motors</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#The-(2-D)-bp.grid_scan()-(mesh)-plan">The (2-D) <code class="docutils literal notranslate"><span class="pre">bp.grid_scan()</span></code> (mesh) plan</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#SPEC-data-file">SPEC data file</a></li>
</ul>
  </nav></div>

  <div class="sidebar-secondary-item">

  <div class="tocsection sourcelink">
    <a href="../_sources/howto/_ad_v_motors.ipynb.txt">
      <i class="fa-solid fa-file-lines"></i> Show Source
    </a>
  </div>
</div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=3ee479438cf8b5e0d341"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=3ee479438cf8b5e0d341"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">

  <p class="copyright">
    
      © Copyright 2023, APS BCDA.
      <br/>
    
  </p>
</div>
      
        <div class="footer-item">

  <p class="sphinx-version">
    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 5.3.0.
    <br/>
  </p>
</div>
      
    </div>
  
  
  
    <div class="footer-items__end">
      
        <div class="footer-item">
<p class="theme-version">
  Built with the <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.15.3.
</p></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>